{% include "partials/_header.html" %} 
{% if auth_type == "signup" %} 
  {% set auth_action="Sign up" %} 
{% else %} 
  {% set auth_action="Sign in" %} 
{%end%}
<div class="Wrapper h100">
  <div class="Auth flex-between-center h100">
    {% if not current_user %}
    <div class="Flex-item Info as-bkg--tuna-000 p-3">
      {% include "partials/_carousel.html" %}
      <div class="flex">
        <svg
          width="34"
          height="24"
          viewBox="0 0 34 24"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            opacity=".6"
            d="M22.426 3.494l-7-1.92-2.464 5.504 9.464-3.584zM15.842 17.008l-6.38-2.59L5.555 24l10.287-6.992z"
            fill="#3F4154"
          />
          <path d="M0 11.438l15.731 5.63 2.58-12.028L0 11.438z" fill="#3F4154" />
          <path
            d="M29.673 6.65a.259.259 0 0 1-.19-.078L26.78 3.966a1.42 1.42 0 0 1-.119-.113 4.465 4.465 0 0 1-.24-.283 3.83 3.83 0 0 1-.295-.423 2.62 2.62 0 0 1-.231-.523 1.897 1.897 0 0 1-.102-.598c0-.635.183-1.131.55-1.49C26.71.18 27.217 0 27.864 0c.178 0 .361.031.547.093.186.062.36.146.52.251.16.106.298.204.413.297.116.092.225.19.33.294.103-.104.213-.202.328-.294a5.55 5.55 0 0 1 .414-.297c.16-.105.333-.189.52-.25.185-.063.368-.094.547-.094.646 0 1.153.179 1.52.537.366.358.55.854.55 1.49 0 .637-.331 1.286-.992 1.947l-2.697 2.598a.26.26 0 0 1-.19.078z"
            fill="red"
          />
        </svg>
        <p class="pv-2 as-font--caption as-color--tuna">
          Tinybird.co — Copyright © {{year}} Tinybird. All rights reserved
        </p>
      </div>
    </div>
    <div class="Flex-item Auth-form  as-bkg--secondary as-color--light is-center p-3">
      <div class="full-space-center">
        <h2 id="login-title" class="as-font--title-bold">
          {{auth_action}}{% if auth_type == "signup" %} for free{% end %} 
        </h2>
        <p class="form-font--small mt-1 mb-5">
          {% if auth_type == "signup" %} 
            No credit card required 
          {% else %} 
            Don't you have an account?
            <a
              class="Link as-color--primary underline"
              href="{{ reverse_url('signup') }}"
              >Sign up for Tinybird</a
            >
          {% end %}
        </p>
        <div class="Inner is-login is-center">
          <a href="{{ reverse_url('google_login') }}" class="Button Button-login">
            <span class="google-logo flex">
              <svg width="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
                <g clip-path="url(#clip0)">
                  <path d="M19.7874 10.2257C19.7874 9.56732 19.7291 8.94232 19.6291 8.33398H10.2124V12.0923H15.6041C15.3624 13.3257 14.6541 14.3673 13.6041 15.0757V17.5757H16.8207C18.7041 15.834 19.7874 13.2673 19.7874 10.2257Z" fill="#4285F4"/>
                  <path d="M10.2124 19.9999C12.9124 19.9999 15.1707 19.0999 16.8207 17.5749L13.604 15.0749C12.704 15.6749 11.5624 16.0415 10.2124 16.0415C7.60402 16.0415 5.39569 14.2832 4.60402 11.9082H1.28735V14.4832C2.92902 17.7499 6.30402 19.9999 10.2124 19.9999Z" fill="#34A853"/>
                  <path d="M4.60407 11.9092C4.39574 11.3092 4.2874 10.6676 4.2874 10.0009C4.2874 9.33424 4.40407 8.69258 4.60407 8.09258V5.51758H1.2874C0.604068 6.86758 0.212402 8.38424 0.212402 10.0009C0.212402 11.6176 0.604068 13.1342 1.2874 14.4842L4.60407 11.9092Z" fill="#FBBC05"/>
                  <path d="M10.2124 3.95833C11.6874 3.95833 13.004 4.46667 14.0457 5.45834L16.8957 2.60833C15.1707 0.991668 12.9124 0 10.2124 0C6.30402 0 2.92902 2.25 1.28735 5.51667L4.60402 8.09167C5.39569 5.71667 7.60402 3.95833 10.2124 3.95833Z" fill="#EA4335"/>
                  </g>
                  <defs>
                  <clipPath id="clip0">
                  <rect width="20" height="20" fill="white"/>
                  </clipPath>
                  </defs>
              </svg>
            </span>
            <span class="form-font--small as-color--secondary"
              >{{auth_action}} with Google</span
            >
          </a>
          {% if github_login %}
            <a
              href="{{ reverse_url('github_login') }}"
              class="Button Button-login mt-2"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="18"
                viewBox="0 0 1024 1024"
              >
                <path
                  fill-rule="evenodd"
                  clip-rule="evenodd"
                  d="M512 0C229.12 0 0 229.12 0 512c0 226.56 146.56 417.92 350.08 485.76 25.6 4.48 35.2-10.88 35.2-24.32 0-12.16-.64-52.48-.64-95.36-128.64 23.68-161.92-31.36-172.16-60.16-5.76-14.72-30.72-60.16-52.48-72.32-17.92-9.6-43.52-33.28-.64-33.92 40.32-.64 69.12 37.12 78.72 52.48 46.08 77.44 119.68 55.68 149.12 42.24 4.48-33.28 17.92-55.68 32.64-68.48-113.92-12.8-232.96-56.96-232.96-252.8 0-55.68 19.84-101.76 52.48-137.6-5.12-12.8-23.04-65.28 5.12-135.68 0 0 42.88-13.44 140.8 52.48 40.96-11.52 84.48-17.28 128-17.28 43.52 0 87.04 5.76 128 17.28 97.92-66.56 140.8-52.48 140.8-52.48 28.16 70.4 10.24 122.88 5.12 135.68 32.64 35.84 52.48 81.28 52.48 137.6 0 196.48-119.68 240-233.6 252.8 18.56 16 34.56 46.72 34.56 94.72 0 68.48-.64 123.52-.64 140.8 0 13.44 9.6 29.44 35.2 24.32C877.44 929.92 1024 737.92 1024 512 1024 229.12 794.88 0 512 0z"
                  fill="#25283D"
                />
              </svg>
              <span class="ml-1 form-font--small as-color--secondary"
                >{{auth_action}} with GitHub</span
              >
            </a>
          {% end %}
          <a
            href="{{ reverse_url('microsoft_login') }}"
            class="Button Button-login mt-2"
          >
            <svg width="18" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 23 23">
              <path fill="#f35325" d="M1 1h10v10H1z" />
              <path fill="#81bc06" d="M12 1h10v10H12z" />
              <path fill="#05a6f0" d="M1 12h10v10H1z" />
              <path fill="#ffba08" d="M12 12h10v10H12z" />
            </svg>
            <span class="ml-1 form-font--small as-color--secondary"
              >{{auth_action}} with Microsoft</span
            >
          </a>
          {% if auth_type == "signin" %} 
            <div class="Form-separator mv-3"></div>
            <form action="/login" method="post" class="mt-2">
              <div>
                <input class="Form-input is-small as-font--small {% if not email and error %}has-errors{% end %}"
                  type="email" name="email" placeholder="Email address..." value={{email}}>
              </div>
              <div class="mt-1">
                <input class="Form-input is-small as-font--small mt-1 {% if error %}has-errors{% end %}" type="password"
                  name="password" placeholder="Password">
              </div>
      
              <div class="mt-2">
                <button type="submit" class="Button Form-button fit-content as-bkg--primary">
                  <span class="as-font--small as-color--light">Continue with email & password</span>
                </button>
              </div>
      
              {% if error %}
                <p class="as-font--small as-color--error mt-2">{{ error }}</span>
              {% end %}
              {% module xsrf_form_html() %}
            </form>
          {%end%}
      </div>
      <p class="as-font--caption as-color--tuna-200 pv-2">
        By joining, you agree to our
        <a
          href="{{ commercial_host }}/terms"
          class="Link underline as-color--tuna-200"
          >Terms of Service</a
        >
        and
        <a
          href="{{ commercial_host }}/privacy"
          class="Link underline as-color--tuna-200"
          >our Privacy Policy</a
        >.
      </p>
    </div>
    {% else %}
    <div class="Inner pv-15 is-short is-center">
      <div class="inline">
        <a href="{{ reverse_url('dashboard') }}" class="Button as-bkg--primary">
          <span class="as-font--caption-bold as-color--light has-spacing"
            >GO TO YOUR DASHBOARD</span
          >
        </a>
        <p class="form-font--small as-color--neutral-64 mt-1">
          or
          <a class="Link as-color--primary underline" href="{{ reverse_url('logout') }}"
            >sign out</a
          >
        </p>
      </div>
    </div>
    {% end %}
  </div>
</div>
