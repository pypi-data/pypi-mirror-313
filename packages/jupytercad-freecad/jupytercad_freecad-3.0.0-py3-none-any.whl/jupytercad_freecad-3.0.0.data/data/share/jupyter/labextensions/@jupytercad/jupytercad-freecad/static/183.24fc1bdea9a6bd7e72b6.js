"use strict";(self.webpackChunk_jupytercad_jupytercad_freecad=self.webpackChunk_jupytercad_jupytercad_freecad||[]).push([[183],{183:(e,t,n)=>{n.r(t),n.d(t,{default:()=>p});var a=n(669),r=n(346),d=n(762),o=n(963),s=n(313),c=n(975);class l{constructor(e){this.collaborative=!0,this._disposed=!1,this._annotationModel=e.annotationModel}get name(){return"jupytercad-fcmodel"}get contentType(){return"FCStd"}get fileFormat(){return"base64"}get isDisposed(){return this._disposed}dispose(){this._disposed=!0}preferredLanguage(e){return""}createNew(e){return new r.JupyterCadModel({sharedModel:e.sharedModel,languagePreference:e.languagePreference,annotationModel:this._annotationModel})}}const i=new o.LabIcon({name:"jupytercad:stp",svgstr:'<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg\n   width="48"\n   height="48"\n   viewBox="0 0 48 48"\n   version="1.1"\n   id="svg1"\n   xml:space="preserve"\n   xmlns="http://www.w3.org/2000/svg"\n   xmlns:svg="http://www.w3.org/2000/svg"\n   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"\n   xmlns:cc="http://creativecommons.org/ns#"\n   xmlns:dc="http://purl.org/dc/elements/1.1/"><defs\n     id="defs1" /><g\n     id="g1"\n     transform="matrix(2,0,0,2,0.11243557,0)"><path\n       class="jp-icon-selectable"\n       d="m 22,3.9997423 -3.999742,4.0002581 h -8 V 10.999806 H 14 v 4.000259 h -3.999742 v 4.999678 L 5.9999997,24 h 4.0503843 c 0.30326,-1e-6 0.571883,-0.195269 0.66559,-0.48369 l 0.723985,-2.22828 c 0.06925,-0.213087 0.236489,-0.379833 0.449583,-0.449065 l 0.556553,-0.180868 c 0.213108,-0.06926 0.446577,-0.03248 0.627866,0.09922 l 1.894968,1.377173 c 0.245331,0.178232 0.57787,0.178229 0.823203,0 l 1.698598,-1.234547 c 0.245363,-0.178242 0.347963,-0.493948 0.254247,-0.782378 l -0.723984,-2.22828 c -0.06926,-0.213109 -0.03197,-0.446575 0.09974,-0.627866 l 0.344164,-0.473355 c 0.131697,-0.181276 0.34179,-0.288856 0.565855,-0.28887 l 2.343001,5.1e-4 c 0.303278,10e-6 0.571885,-0.19577 0.66559,-0.484207 l 0.649054,-1.996771 c 0.0937,-0.288413 -0.0089,-0.60465 -0.254247,-0.782895 L 19.538664,11.858666 C 19.357381,11.726957 19.250306,11.516889 19.250311,11.292812 V 10.70732 c 1.9e-5,-0.224072 0.107062,-0.434681 0.288353,-0.566372 L 21.711646,8.5622376 C 21.892924,8.4305313 21.999999,8.219938 22,7.9958659 Z"\n       fill="#418fde"\n       style="fill-rule:evenodd;stroke:none;stroke-width:2.64567;stroke-linecap:square"\n       id="path8" /><path\n       class="jp-icon-selectable"\n       id="path7"\n       fill="#ff585d"\n       style="display:inline;fill-rule:evenodd;stroke:none;stroke-width:2.64567;stroke-linecap:square"\n       d="m 18,0 -4,4 h 4 V 8 L 22,4 V 0 Z M 6,16 2,20 v 4 h 4 l 4,-4 H 6 Z" /><path\n       class="jp-icon-selectable"\n       d="M 6,0 2,4 V 20 L 6,16 V 4 h 8 l 4,-4 z"\n       fill="#cb333b"\n       style="fill-rule:evenodd;stroke-width:2.64567;stroke-linecap:square"\n       id="path3" />\n       </g></svg>\n'}),p=[{id:"jupytercad:fcplugin",requires:[r.IJupyterCadDocTracker,d.IThemeManager,r.IAnnotationToken,a.ICollaborativeDrive,r.IJCadWorkerRegistryToken,r.IJCadExternalCommandRegistryToken],autoStart:!0,activate:async(e,t,n,a,o,p,h)=>{const g=await(0,c.requestAPI)("jupytercad_freecad/backend-check",{method:"POST",body:JSON.stringify({backend:"FreeCAD"})}),{installed:u}=g,y=new s.JupyterCadWidgetFactory({name:"Jupytercad Freecad Factory",modelName:"jupytercad-fcmodel",fileTypes:["FCStd"],defaultFor:["FCStd"],tracker:t,commands:e.commands,workerRegistry:p,externalCommandRegistry:h,backendCheck:()=>(u||(0,d.showErrorMessage)("FreeCAD is not installed","FreeCAD is required to open FCStd files"),u)});e.docRegistry.addWidgetFactory(y);const m=new l({annotationModel:a});e.docRegistry.addModelFactory(m),e.docRegistry.addFileType({name:"FCStd",displayName:"FCStd",mimeTypes:["application/octet-stream"],extensions:[".FCStd","fcstd"],fileFormat:"base64",contentType:"FCStd",icon:i}),o.sharedModelFactory.registerDocumentFactory("FCStd",(()=>new r.JupyterCadDoc)),y.widgetCreated.connect(((a,r)=>{r.title.icon=i,r.context.pathChanged.connect((()=>{t.save(r)})),n.themeChanged.connect(((e,t)=>r.context.model.themeChanged.emit(t))),t.add(r),e.shell.activateById("jupytercad::leftControlPanel"),e.shell.activateById("jupytercad::rightControlPanel")})),console.log("jupytercad:fcplugin is activated!")}}]}}]);