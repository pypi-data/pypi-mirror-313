- name: hccn_tool configures IP address
  script:
    cmd: ../../../../tools/hccn.py '{{ deviceip }}-{{ detectip }}-{{ gateways }}-{{ netmask }}-{{ roce_port }}-{{ bitmap }}-{{ dscp_tc }}-{{ common_network }}'
  args:
    executable: "{{ discovered_interpreter_python }}"
  environment:
    LD_LIBRARY_PATH: "/usr/local/Ascend/nnrt/latest/lib64:/usr/local/Ascend/driver/lib64:/usr/local/Ascend/driver/lib64/common:/usr/local/Ascend/driver/lib64/driver:/usr/local/Ascend/nnae/latest/lib64:/usr/local/Ascend/nnae/latest/lib64/plugin/opskernel:/usr/local/Ascend/nnae/latest/lib64/plugin/nnengine:/usr/local/Ascend/driver/lib64:/usr/local/Ascend/driver/lib64/common:/usr/local/Ascend/driver/lib64/driver:/usr/local/Ascend/ascend-toolkit/latest/lib64:/usr/local/Ascend/ascend-toolkit/latest/lib64/plugin/opskernel:/usr/local/Ascend/ascend-toolkit/latest/lib64/plugin/nnengine:/usr/local/Ascend/driver/lib64:/usr/local/Ascend/driver/lib64/common:/usr/local/Ascend/driver/lib64/driver:"