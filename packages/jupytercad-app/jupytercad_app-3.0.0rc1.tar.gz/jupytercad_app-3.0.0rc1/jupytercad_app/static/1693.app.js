"use strict";(self.webpackChunk_JUPYTERLAB_CORE_OUTPUT=self.webpackChunk_JUPYTERLAB_CORE_OUTPUT||[]).push([[1693],{81693:(e,t,s)=>{s.r(t),s.d(t,{GroupItem:()=>d,IStatusBar:()=>ae,KernelStatus:()=>T,LineCol:()=>X,Popup:()=>N,ProgressBar:()=>R,ProgressCircle:()=>A,RunningSessions:()=>ee,StatusBar:()=>ie,TextItem:()=>L,clickedItem:()=>w,interactiveItem:()=>E,item:()=>S,leftSide:()=>y,rightSide:()=>k,showPopup:()=>j,side:()=>f,statusBar:()=>x});var n=s(22939),i=s.n(n),a=s(86823);const r={display:"flex",alignItems:"center"},o={flexDirection:"row"};var l=function(e,t){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(s[n[i]]=e[n[i]])}return s};const h=(0,a.iF)(r,o);function d(e){const{spacing:t,children:s,className:i}=e,r=l(e,["spacing","children","className"]),o=n.Children.count(s);return n.createElement("div",Object.assign({className:(0,a.Ly)(h,i)},r),n.Children.map(s,((e,s)=>0===s?n.createElement("div",{style:{marginRight:`${t}px`}},e):s===o-1?n.createElement("div",{style:{marginLeft:`${t}px`}},e):n.createElement("div",{style:{margin:`0px ${t}px`}},e))))}var c=s(18504),u=s(73658);const m="var(--jp-statusbar-height)",p="var(--jp-ui-font-color1)",g="10px",_=(0,a.iF)({fontSize:"var(--jp-ui-font-size1)",fontFamily:"var(--jp-ui-font-family)"},{lineHeight:"24px",color:p}),v={paddingLeft:"6px",paddingRight:"6px"},b={$nest:{"&:hover":{backgroundColor:"var(--jp-layout-color3)"}}},C={backgroundColor:"var(--jp-brand-color1)",$nest:{["."+_]:{color:"white"}}},x=(0,a.iF)({background:"var(--jp-layout-color2)",minHeight:m,justifyContent:"space-between",paddingLeft:g,paddingRight:g},r),f=(0,a.iF)(r),y=(0,a.iF)(o),k=(0,a.iF)({flexDirection:"row-reverse"}),S=(0,a.iF)({maxHeight:m,marginLeft:"2px",marginRight:"2px",height:m,whiteSpace:"nowrap",textOverflow:"ellipsis",color:p},v),w=(0,a.iF)(C),E=(0,a.iF)(b),I=(0,a.iF)({boxShadow:"0px 4px 4px rgba(0, 0, 0, 0.25)"});function j(e){const t=new N(e);return e.startHidden||t.launch(),t}class N extends u.Widget{constructor(e){super(),this._body=e.body,this._body.addClass(I),this._anchor=e.anchor,this._align=e.align,e.hasDynamicSize&&(this._observer=new ResizeObserver((()=>{this.update()}))),(this.layout=new u.PanelLayout).addWidget(e.body),this._body.node.addEventListener("resize",(()=>{this.update()}))}launch(){this._setGeometry(),u.Widget.attach(this,document.body),this.update(),this._anchor.addClass(w),this._anchor.removeClass(E)}onUpdateRequest(e){this._setGeometry(),super.onUpdateRequest(e)}onAfterAttach(e){var t;document.addEventListener("click",this,!1),this.node.addEventListener("keydown",this,!1),window.addEventListener("resize",this,!1),null===(t=this._observer)||void 0===t||t.observe(this._body.node)}onBeforeDetach(e){var t;null===(t=this._observer)||void 0===t||t.disconnect(),document.removeEventListener("click",this,!1),this.node.removeEventListener("keydown",this,!1),window.removeEventListener("resize",this,!1)}onResize(){this.update()}dispose(){var e;null===(e=this._observer)||void 0===e||e.disconnect(),super.dispose(),this._anchor.removeClass(w),this._anchor.addClass(E)}handleEvent(e){switch(e.type){case"keydown":this._evtKeydown(e);break;case"click":this._evtClick(e);break;case"resize":this.onResize()}}_evtClick(e){!e.target||this._body.node.contains(e.target)||this._anchor.node.contains(e.target)||this.dispose()}_evtKeydown(e){27===e.keyCode&&(e.stopPropagation(),e.preventDefault(),this.dispose())}_setGeometry(){let e=0;const t=this._anchor.node.getBoundingClientRect(),s=this._body.node.getBoundingClientRect();"right"===this._align&&(e=-(s.width-t.width));const n=window.getComputedStyle(this._body.node);c.HoverBox.setGeometry({anchor:t,host:document.body,maxHeight:500,minHeight:20,node:this._body.node,offset:{horizontal:e},privilege:"forceAbove",style:n})}}var O=function(e,t){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(s[n[i]]=e[n[i]])}return s};function R(e){const{width:t,percentage:s}=e,i=O(e,["width","percentage"]);return n.createElement("div",{className:"jp-Statusbar-ProgressBar-progress-bar",role:"progressbar","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":s},n.createElement(F,Object.assign({},Object.assign({percentage:s},i),{contentWidth:t})))}function F(e){return n.createElement("div",{style:{width:`${e.percentage}%`}},n.createElement("p",null,e.content))}var P=function(e,t){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(s[n[i]]=e[n[i]])}return s};function L(e){const{title:t,source:s,className:i}=e,r=P(e,["title","source","className"]);return n.createElement("span",Object.assign({className:(0,a.Ly)(_,i),title:t},r),s)}function A(e){return i().createElement("div",{className:"jp-Statusbar-ProgressCircle",role:"progressbar","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":e.progress},i().createElement("svg",{viewBox:"0 0 250 250"},i().createElement("circle",{cx:"125",cy:"125",r:"104",stroke:"var(--jp-inverse-layout-color3)",strokeWidth:"20",fill:"none"}),i().createElement("path",{transform:"translate(125,125) scale(.9)",d:(e=>{const t=Math.max(3.6*e,.1),s=t*Math.PI/180,n=104*Math.sin(s),i=-104*Math.cos(s);return"M 0 0 v -104 A 104 104 1 "+(t<180?1:0)+" 0 "+n.toFixed(4)+" "+i.toFixed(4)+" z"})(e.progress),fill:"var(--jp-inverse-layout-color3)"})))}var D=s(88791),z=s(68211);function M(e){const t=(e.translator||D.nullTranslator).load("jupyterlab");let s="";return e.status&&(s=` | ${e.status}`),i().createElement(L,{onClick:e.handleClick,source:`${e.kernelName}${s}`,title:t.__("Change kernel for %1",e.activityName)})}class T extends c.VDomRenderer{constructor(e,t){super(new T.Model(t)),this.translator=t||D.nullTranslator,this._handleClick=e.onClick,this.addClass(E)}render(){return null===this.model?null:i().createElement(M,{status:this.model.status,kernelName:this.model.kernelName,activityName:this.model.activityName,handleClick:this._handleClick,translator:this.translator})}}!function(e){class t extends c.VDomModel{constructor(e){super(),this._activityName="activity",this._kernelStatus="",this._sessionContext=null,e=e||D.nullTranslator,this._trans=e.load("jupyterlab"),this._kernelName=this._trans.__("No Kernel!"),this._statusNames=(0,c.translateKernelStatuses)(e)}get kernelName(){return this._kernelName}get status(){return this._kernelStatus?this._statusNames[this._kernelStatus]:void 0}get activityName(){return this._activityName}set activityName(e){this._activityName!==e&&(this._activityName=e,this.stateChanged.emit(void 0))}get sessionContext(){return this._sessionContext}set sessionContext(e){var t,s,n,i;null===(t=this._sessionContext)||void 0===t||t.statusChanged.disconnect(this._onKernelStatusChanged,this),null===(s=this._sessionContext)||void 0===s||s.connectionStatusChanged.disconnect(this._onKernelStatusChanged,this),null===(n=this._sessionContext)||void 0===n||n.kernelChanged.disconnect(this._onKernelChanged,this);const a=this._getAllState();this._sessionContext=e,this._kernelStatus=null==e?void 0:e.kernelDisplayStatus,this._kernelName=null!==(i=null==e?void 0:e.kernelDisplayName)&&void 0!==i?i:this._trans.__("No Kernel"),null==e||e.statusChanged.connect(this._onKernelStatusChanged,this),null==e||e.connectionStatusChanged.connect(this._onKernelStatusChanged,this),null==e||e.kernelChanged.connect(this._onKernelChanged,this),this._triggerChange(a,this._getAllState())}_onKernelStatusChanged(){var e;this._kernelStatus=null===(e=this._sessionContext)||void 0===e?void 0:e.kernelDisplayStatus,this.stateChanged.emit(void 0)}_onKernelChanged(e,t){var s;const n=this._getAllState();this._kernelStatus=null===(s=this._sessionContext)||void 0===s?void 0:s.kernelDisplayStatus,this._kernelName=e.kernelDisplayName,this._triggerChange(n,this._getAllState())}_getAllState(){return[this._kernelName,this._kernelStatus,this._activityName]}_triggerChange(e,t){z.JSONExt.deepEqual(e,t)&&this.stateChanged.emit(void 0)}}e.Model=t}(T||(T={}));var B=s(9007);(0,a.iF)({boxShadow:"0px 4px 4px rgba(0, 0, 0, 0.25)"});const K=(0,a.iF)({padding:"4px 12px",backgroundColor:"var(--jp-layout-color2)",boxShadow:"var(--jp-toolbar-box-shadow)",zIndex:2,fontSize:"var(--jp-ui-font-size1)"}),W=(0,a.iF)({fontSize:"var(--jp-ui-font-size0)",lineHeight:"var(--jp-ui-font-size1)",marginTop:"4px",color:"var(--jp-ui-font-color0)"}),U={border:"none",borderRadius:"0px",position:"absolute",backgroundSize:"16px",backgroundRepeat:"no-repeat",backgroundPosition:"center",outline:"none",top:"0px",right:"0px"},$=(0,a.iF)(U,{top:"4px",right:"8px",height:"24px",padding:"0px 12px",width:"12px"}),H=(0,a.iF)(U,{backgroundColor:"var(--jp-brand-color1)",height:"100%",width:"100%",boxSizing:"border-box",padding:"4px 6px"}),G=(0,a.iF)(U,{backgroundColor:"transparent",height:"100%",width:"100%",boxSizing:"border-box"}),V=(0,a.iF)({overflow:"hidden",padding:"0px 8px",border:"1px solid var(--jp-border-color0)",backgroundColor:"var(--jp-input-active-background)",height:"22px"}),q=(0,a.iF)({border:"var(--jp-border-width) solid var(--md-blue-500)",boxShadow:"inset 0 0 4px var(--md-blue-300)"}),J=(0,a.iF)({background:"transparent",width:"200px",height:"100%",border:"none",outline:"none",color:"var(--jp-ui-font-color0)",lineHeight:"28px"});class Y extends i().Component{constructor(e){super(e),this._handleChange=e=>{this.setState({value:e.currentTarget.value})},this._handleSubmit=e=>{e.preventDefault();const t=parseInt(this._textInput.value,10);return!isNaN(t)&&isFinite(t)&&1<=t&&t<=this.props.maxLine&&this.props.handleSubmit(t),!1},this._handleFocus=()=>{this.setState({hasFocus:!0})},this._handleBlur=()=>{this.setState({hasFocus:!1})},this._textInput=null,this.translator=e.translator||D.nullTranslator,this._trans=this.translator.load("jupyterlab"),this.state={value:"",hasFocus:!1}}componentDidMount(){this._textInput.focus()}render(){return i().createElement("div",{className:K},i().createElement("form",{name:"lineColumnForm",onSubmit:this._handleSubmit,noValidate:!0},i().createElement("div",{className:(0,a.Ly)(V,"lm-lineForm-wrapper",this.state.hasFocus?q:void 0)},i().createElement("input",{type:"text",className:J,onChange:this._handleChange,onFocus:this._handleFocus,onBlur:this._handleBlur,value:this.state.value,ref:e=>{this._textInput=e}}),i().createElement("div",{className:$},i().createElement(B.lineFormIcon.react,{className:H,elementPosition:"center"}),i().createElement("input",{type:"submit",className:G,value:""}))),i().createElement("label",{className:W},this._trans.__("Go to line number between 1 and %1",this.props.maxLine))))}}function Q(e){const t=(e.translator||D.nullTranslator).load("jupyterlab");return i().createElement(L,{onClick:e.handleClick,source:t.__("Ln %1, Col %2",e.line,e.column),title:t.__("Go to line number…")})}class X extends c.VDomRenderer{constructor(e){super(new X.Model),this._popup=null,this.addClass(E),this.translator=e||D.nullTranslator}render(){return null===this.model?null:i().createElement(Q,{line:this.model.line,column:this.model.column,translator:this.translator,handleClick:()=>this._handleClick()})}_handleClick(){this._popup&&this._popup.dispose();const e=c.ReactWidget.create(i().createElement(Y,{handleSubmit:e=>this._handleSubmit(e),currentLine:this.model.line,maxLine:this.model.editor.lineCount,translator:this.translator}));this._popup=j({body:e,anchor:this,align:"right"})}_handleSubmit(e){this.model.editor.setCursorPosition({line:e-1,column:0}),this._popup.dispose(),this.model.editor.focus()}}function Z(e){return i().createElement(d,{spacing:4,onClick:e.handleClick},i().createElement(d,{spacing:4},i().createElement(L,{source:e.terminals}),i().createElement(B.terminalIcon.react,{left:"1px",top:"3px",stylesheet:"statusBar"})),i().createElement(d,{spacing:4},i().createElement(L,{source:e.sessions}),i().createElement(B.kernelIcon.react,{top:"2px",stylesheet:"statusBar"})))}!function(e){class t extends c.VDomModel{constructor(){super(...arguments),this._onSelectionChanged=()=>{const e=this._getAllState(),t=this.editor.getCursorPosition();this._line=t.line+1,this._column=t.column+1,this._triggerChange(e,this._getAllState())},this._line=1,this._column=1,this._editor=null}get editor(){return this._editor}set editor(e){var t;const s=this._editor;(null===(t=null==s?void 0:s.model)||void 0===t?void 0:t.selections)&&s.model.selections.changed.disconnect(this._onSelectionChanged);const n=this._getAllState();if(this._editor=e,this._editor){this._editor.model.selections.changed.connect(this._onSelectionChanged);const e=this._editor.getCursorPosition();this._column=e.column+1,this._line=e.line+1}else this._column=1,this._line=1;this._triggerChange(n,this._getAllState())}get line(){return this._line}get column(){return this._column}_getAllState(){return[this._line,this._column]}_triggerChange(e,t){e[0]===t[0]&&e[1]===t[1]||this.stateChanged.emit(void 0)}}e.Model=t}(X||(X={}));class ee extends c.VDomRenderer{constructor(e){super(new ee.Model),this._serviceManager=e.serviceManager,this._handleClick=e.onClick,this.translator=e.translator||D.nullTranslator,this._trans=this.translator.load("jupyterload"),this._serviceManager.sessions.runningChanged.connect(this._onSessionsRunningChanged,this),this._serviceManager.terminals.runningChanged.connect(this._onTerminalsRunningChanged,this),this.addClass(E)}render(){return this.model?(this.title.caption=this._trans.__("%1 Terminals, %2 Kernel sessions",this.model.terminals,this.model.sessions),i().createElement(Z,{sessions:this.model.sessions,terminals:this.model.terminals,handleClick:this._handleClick})):null}dispose(){super.dispose(),this._serviceManager.sessions.runningChanged.disconnect(this._onSessionsRunningChanged,this),this._serviceManager.terminals.runningChanged.disconnect(this._onTerminalsRunningChanged,this)}_onSessionsRunningChanged(e,t){this.model.sessions=t.length}_onTerminalsRunningChanged(e,t){this.model.terminals=t.length}}!function(e){class t extends c.VDomModel{constructor(){super(...arguments),this._terminals=0,this._sessions=0}get sessions(){return this._sessions}set sessions(e){const t=this._sessions;this._sessions=e,t!==this._sessions&&this.stateChanged.emit(void 0)}get terminals(){return this._terminals}set terminals(e){const t=this._terminals;this._terminals=e,t!==this._terminals&&this.stateChanged.emit(void 0)}}e.Model=t}(ee||(ee={}));var te,se=s(37786),ne=s(55882);class ie extends u.Widget{constructor(){super(),this._leftRankItems=[],this._rightRankItems=[],this._statusItems={},this._disposables=new ne.DisposableSet,this.addClass(x);const e=this.layout=new u.PanelLayout,t=this._leftSide=new u.Panel,s=this._middlePanel=new u.Panel,n=this._rightSide=new u.Panel;t.addClass(f),t.addClass(y),s.addClass(f),n.addClass(f),n.addClass(k),e.addWidget(t),e.addWidget(s),e.addWidget(n)}registerStatusItem(e,t){if(e in this._statusItems)throw new Error(`Status item ${e} already registered.`);const s=Object.assign(Object.assign({},te.statusItemDefaults),t),{align:n,item:i,rank:a}=s,r=()=>{this._refreshItem(e)};s.activeStateChanged&&s.activeStateChanged.connect(r);const o={id:e,rank:a};if(s.item.addClass(S),this._statusItems[e]=s,"left"===n){const e=this._findInsertIndex(this._leftRankItems,o);-1===e?(this._leftSide.addWidget(i),this._leftRankItems.push(o)):(se.ArrayExt.insert(this._leftRankItems,e,o),this._leftSide.insertWidget(e,i))}else if("right"===n){const e=this._findInsertIndex(this._rightRankItems,o);-1===e?(this._rightSide.addWidget(i),this._rightRankItems.push(o)):(se.ArrayExt.insert(this._rightRankItems,e,o),this._rightSide.insertWidget(e,i))}else this._middlePanel.addWidget(i);this._refreshItem(e);const l=new ne.DisposableDelegate((()=>{delete this._statusItems[e],s.activeStateChanged&&s.activeStateChanged.disconnect(r),i.parent=null,i.dispose()}));return this._disposables.add(l),l}dispose(){this._leftRankItems.length=0,this._rightRankItems.length=0,this._disposables.dispose(),super.dispose()}onUpdateRequest(e){this._refreshAll(),super.onUpdateRequest(e)}_findInsertIndex(e,t){return se.ArrayExt.findFirstIndex(e,(e=>e.rank>t.rank))}_refreshItem(e){const t=this._statusItems[e];t.isActive()?(t.item.show(),t.item.update()):t.item.hide()}_refreshAll(){Object.keys(this._statusItems).forEach((e=>{this._refreshItem(e)}))}}!function(e){e.statusItemDefaults={align:"left",rank:0,isActive:()=>!0,activeStateChanged:void 0}}(te||(te={}));const ae=new z.Token("@jupyterlab/statusbar:IStatusBar")}}]);