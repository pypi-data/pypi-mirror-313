"use strict";(self.webpackChunkjunity=self.webpackChunkjunity||[]).push([[306],{2306:(o,n,e)=>{e.r(n),e.d(n,{GoogleLogin:()=>s,GoogleOAuthProvider:()=>t,googleLogout:()=>v,hasGrantedAllScopesGoogle:()=>p,hasGrantedAnyScopeGoogle:()=>f,useGoogleLogin:()=>a,useGoogleOAuth:()=>c,useGoogleOneTapLogin:()=>w});var i=e(3345),l=e.n(i);const d=(0,i.createContext)(null);function t({clientId:o,nonce:n,onScriptLoadSuccess:e,onScriptLoadError:t,children:c}){const u=function(o={}){const{nonce:n,onScriptLoadSuccess:e,onScriptLoadError:l}=o,[d,t]=(0,i.useState)(!1),c=(0,i.useRef)(e);c.current=e;const u=(0,i.useRef)(l);return u.current=l,(0,i.useEffect)((()=>{const o=document.createElement("script");return o.src="https://accounts.google.com/gsi/client",o.async=!0,o.defer=!0,o.nonce=n,o.onload=()=>{var o;t(!0),null===(o=c.current)||void 0===o||o.call(c)},o.onerror=()=>{var o;t(!1),null===(o=u.current)||void 0===o||o.call(u)},document.body.appendChild(o),()=>{document.body.removeChild(o)}}),[n]),d}({nonce:n,onScriptLoadSuccess:e,onScriptLoadError:t}),r=(0,i.useMemo)((()=>({clientId:o,scriptLoadedSuccessfully:u})),[o,u]);return l().createElement(d.Provider,{value:r},c)}function c(){const o=(0,i.useContext)(d);if(!o)throw new Error("Google OAuth components must be used within GoogleOAuthProvider");return o}function u(o){var n;return null!==(n=null==o?void 0:o.clientId)&&void 0!==n?n:null==o?void 0:o.client_id}const r={large:40,medium:32,small:20};function s({onSuccess:o,onError:n,useOneTap:e,promptMomentNotification:d,type:t="standard",theme:s="outline",size:v="large",text:a,shape:w,logo_alignment:p,width:f,locale:g,click_listener:m,containerProps:_,...h}){const S=(0,i.useRef)(null),{clientId:y,scriptLoadedSuccessfully:b}=c(),k=(0,i.useRef)(o);k.current=o;const E=(0,i.useRef)(n);E.current=n;const L=(0,i.useRef)(d);return L.current=d,(0,i.useEffect)((()=>{var o,n,i,l,d,c,r,_,G;if(b)return null===(i=null===(n=null===(o=null===window||void 0===window?void 0:window.google)||void 0===o?void 0:o.accounts)||void 0===n?void 0:n.id)||void 0===i||i.initialize({client_id:y,callback:o=>{var n;if(!(null==o?void 0:o.credential))return null===(n=E.current)||void 0===n?void 0:n.call(E);const{credential:e,select_by:i}=o;k.current({credential:e,clientId:u(o),select_by:i})},...h}),null===(c=null===(d=null===(l=null===window||void 0===window?void 0:window.google)||void 0===l?void 0:l.accounts)||void 0===d?void 0:d.id)||void 0===c||c.renderButton(S.current,{type:t,theme:s,size:v,text:a,shape:w,logo_alignment:p,width:f,locale:g,click_listener:m}),e&&(null===(G=null===(_=null===(r=null===window||void 0===window?void 0:window.google)||void 0===r?void 0:r.accounts)||void 0===_?void 0:_.id)||void 0===G||G.prompt(L.current)),()=>{var o,n,i;e&&(null===(i=null===(n=null===(o=null===window||void 0===window?void 0:window.google)||void 0===o?void 0:o.accounts)||void 0===n?void 0:n.id)||void 0===i||i.cancel())}}),[y,b,e,t,s,v,a,w,p,f,g]),l().createElement("div",{..._,ref:S,style:{height:r[v],...null==_?void 0:_.style}})}function v(){var o,n,e;null===(e=null===(n=null===(o=null===window||void 0===window?void 0:window.google)||void 0===o?void 0:o.accounts)||void 0===n?void 0:n.id)||void 0===e||e.disableAutoSelect()}function a({flow:o="implicit",scope:n="",onSuccess:e,onError:l,onNonOAuthError:d,overrideScope:t,state:u,...r}){const{clientId:s,scriptLoadedSuccessfully:v}=c(),a=(0,i.useRef)(),w=(0,i.useRef)(e);w.current=e;const p=(0,i.useRef)(l);p.current=l;const f=(0,i.useRef)(d);f.current=d,(0,i.useEffect)((()=>{var e,i;if(!v)return;const l="implicit"===o?"initTokenClient":"initCodeClient",d=null===(i=null===(e=null===window||void 0===window?void 0:window.google)||void 0===e?void 0:e.accounts)||void 0===i?void 0:i.oauth2[l]({client_id:s,scope:t?n:`openid profile email ${n}`,callback:o=>{var n,e;if(o.error)return null===(n=p.current)||void 0===n?void 0:n.call(p,o);null===(e=w.current)||void 0===e||e.call(w,o)},error_callback:o=>{var n;null===(n=f.current)||void 0===n||n.call(f,o)},state:u,...r});a.current=d}),[s,v,o,n,u]);const g=(0,i.useCallback)((o=>{var n;return null===(n=a.current)||void 0===n?void 0:n.requestAccessToken(o)}),[]),m=(0,i.useCallback)((()=>{var o;return null===(o=a.current)||void 0===o?void 0:o.requestCode()}),[]);return"implicit"===o?g:m}function w({onSuccess:o,onError:n,promptMomentNotification:e,cancel_on_tap_outside:l,prompt_parent_id:d,state_cookie_domain:t,hosted_domain:r,use_fedcm_for_prompt:s=!1,disabled:v,auto_select:a}){const{clientId:w,scriptLoadedSuccessfully:p}=c(),f=(0,i.useRef)(o);f.current=o;const g=(0,i.useRef)(n);g.current=n;const m=(0,i.useRef)(e);m.current=e,(0,i.useEffect)((()=>{var o,n,e,i,c,_,h,S,y;if(p){if(!v)return null===(_=null===(c=null===(i=null===window||void 0===window?void 0:window.google)||void 0===i?void 0:i.accounts)||void 0===c?void 0:c.id)||void 0===_||_.initialize({client_id:w,callback:o=>{var n;if(!(null==o?void 0:o.credential))return null===(n=g.current)||void 0===n?void 0:n.call(g);const{credential:e,select_by:i}=o;f.current({credential:e,clientId:u(o),select_by:i})},hosted_domain:r,cancel_on_tap_outside:l,prompt_parent_id:d,state_cookie_domain:t,use_fedcm_for_prompt:s,auto_select:a}),null===(y=null===(S=null===(h=null===window||void 0===window?void 0:window.google)||void 0===h?void 0:h.accounts)||void 0===S?void 0:S.id)||void 0===y||y.prompt(m.current),()=>{var o,n,e;null===(e=null===(n=null===(o=null===window||void 0===window?void 0:window.google)||void 0===o?void 0:o.accounts)||void 0===n?void 0:n.id)||void 0===e||e.cancel()};null===(e=null===(n=null===(o=null===window||void 0===window?void 0:window.google)||void 0===o?void 0:o.accounts)||void 0===n?void 0:n.id)||void 0===e||e.cancel()}}),[w,p,l,d,t,r,s,v,a])}function p(o,n,...e){var i,l,d;return(null===window||void 0===window?void 0:window.google)&&(null===(d=null===(l=null===(i=null===window||void 0===window?void 0:window.google)||void 0===i?void 0:i.accounts)||void 0===l?void 0:l.oauth2)||void 0===d?void 0:d.hasGrantedAllScopes(o,n,...e))||!1}function f(o,n,...e){var i,l,d;return(null===window||void 0===window?void 0:window.google)&&(null===(d=null===(l=null===(i=null===window||void 0===window?void 0:window.google)||void 0===i?void 0:i.accounts)||void 0===l?void 0:l.oauth2)||void 0===d?void 0:d.hasGrantedAnyScope(o,n,...e))||!1}}}]);