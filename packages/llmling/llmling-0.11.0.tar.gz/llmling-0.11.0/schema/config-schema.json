{
  "$defs": {
    "CLIResource": {
      "description": "Resource from CLI command execution.",
      "properties": {
        "resource_type": {
          "const": "cli",
          "default": "cli",
          "title": "Resource Type",
          "type": "string"
        },
        "description": {
          "default": "",
          "title": "Description",
          "type": "string"
        },
        "uri": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Uri"
        },
        "processors": {
          "items": {
            "$ref": "#/$defs/ProcessingStep"
          },
          "title": "Processors",
          "type": "array"
        },
        "watch": {
          "anyOf": [
            {
              "$ref": "#/$defs/WatchConfig"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "command": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "items": {
                "type": "string"
              },
              "type": "array"
            }
          ],
          "title": "Command"
        },
        "shell": {
          "default": false,
          "title": "Shell",
          "type": "boolean"
        },
        "cwd": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Cwd"
        },
        "timeout": {
          "anyOf": [
            {
              "type": "number"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Timeout"
        }
      },
      "required": [
        "command"
      ],
      "title": "CLIResource",
      "type": "object"
    },
    "CallableResource": {
      "description": "Resource from executing a Python callable.",
      "properties": {
        "resource_type": {
          "const": "callable",
          "default": "callable",
          "title": "Resource Type",
          "type": "string"
        },
        "description": {
          "default": "",
          "title": "Description",
          "type": "string"
        },
        "uri": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Uri"
        },
        "processors": {
          "items": {
            "$ref": "#/$defs/ProcessingStep"
          },
          "title": "Processors",
          "type": "array"
        },
        "watch": {
          "anyOf": [
            {
              "$ref": "#/$defs/WatchConfig"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "import_path": {
          "title": "Import Path",
          "type": "string"
        },
        "keyword_args": {
          "title": "Keyword Args",
          "type": "object"
        }
      },
      "required": [
        "import_path"
      ],
      "title": "CallableResource",
      "type": "object"
    },
    "GlobalSettings": {
      "description": "Global settings that apply to all components.",
      "properties": {
        "timeout": {
          "default": 30,
          "title": "Timeout",
          "type": "integer"
        },
        "max_retries": {
          "default": 3,
          "title": "Max Retries",
          "type": "integer"
        },
        "requirements": {
          "items": {
            "type": "string"
          },
          "title": "Requirements",
          "type": "array"
        },
        "pip_index_url": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Pip Index Url"
        },
        "extra_paths": {
          "items": {
            "type": "string"
          },
          "title": "Extra Paths",
          "type": "array"
        },
        "scripts": {
          "items": {
            "type": "string"
          },
          "title": "Scripts",
          "type": "array"
        },
        "prefer_uv": {
          "default": false,
          "title": "Prefer Uv",
          "type": "boolean"
        },
        "log_level": {
          "default": "INFO",
          "enum": [
            "DEBUG",
            "INFO",
            "WARNING",
            "ERROR",
            "CRITICAL"
          ],
          "title": "Log Level",
          "type": "string"
        }
      },
      "title": "GlobalSettings",
      "type": "object"
    },
    "ImageResource": {
      "description": "Resource for image input.",
      "properties": {
        "resource_type": {
          "const": "image",
          "default": "image",
          "title": "Resource Type",
          "type": "string"
        },
        "description": {
          "default": "",
          "title": "Description",
          "type": "string"
        },
        "uri": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Uri"
        },
        "processors": {
          "items": {
            "$ref": "#/$defs/ProcessingStep"
          },
          "title": "Processors",
          "type": "array"
        },
        "watch": {
          "anyOf": [
            {
              "$ref": "#/$defs/WatchConfig"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "path": {
          "title": "Path",
          "type": "string"
        },
        "alt_text": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Alt Text"
        }
      },
      "required": [
        "path"
      ],
      "title": "ImageResource",
      "type": "object"
    },
    "PathResource": {
      "description": "Resource loaded from a file or URL.",
      "properties": {
        "resource_type": {
          "const": "path",
          "default": "path",
          "title": "Resource Type",
          "type": "string"
        },
        "description": {
          "default": "",
          "title": "Description",
          "type": "string"
        },
        "uri": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Uri"
        },
        "processors": {
          "items": {
            "$ref": "#/$defs/ProcessingStep"
          },
          "title": "Processors",
          "type": "array"
        },
        "watch": {
          "anyOf": [
            {
              "$ref": "#/$defs/WatchConfig"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "path": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "format": "path",
              "type": "string"
            }
          ],
          "title": "Path"
        }
      },
      "required": [
        "path"
      ],
      "title": "PathResource",
      "type": "object"
    },
    "ProcessingStep": {
      "description": "Configuration for a processing step.",
      "properties": {
        "name": {
          "title": "Name",
          "type": "string"
        },
        "parallel": {
          "default": false,
          "title": "Parallel",
          "type": "boolean"
        },
        "required": {
          "default": true,
          "title": "Required",
          "type": "boolean"
        },
        "kwargs": {
          "title": "Kwargs",
          "type": "object"
        }
      },
      "required": [
        "name"
      ],
      "title": "ProcessingStep",
      "type": "object"
    },
    "ProcessorConfig": {
      "additionalProperties": false,
      "description": "Configuration for text processors.",
      "properties": {
        "type": {
          "enum": [
            "function",
            "template",
            "image"
          ],
          "title": "Type",
          "type": "string"
        },
        "name": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Name"
        },
        "description": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Description"
        },
        "import_path": {
          "default": "",
          "title": "Import Path",
          "type": "string"
        },
        "async_execution": {
          "default": false,
          "title": "Async Execution",
          "type": "boolean"
        },
        "template": {
          "default": "",
          "title": "Template",
          "type": "string"
        },
        "template_engine": {
          "const": "jinja2",
          "default": "jinja2",
          "title": "Template Engine",
          "type": "string"
        },
        "validate_output": {
          "default": false,
          "title": "Validate Output",
          "type": "boolean"
        },
        "validate_schema": {
          "anyOf": [
            {
              "type": "object"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Validate Schema"
        },
        "timeout": {
          "anyOf": [
            {
              "type": "number"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Timeout"
        },
        "cache_results": {
          "default": false,
          "title": "Cache Results",
          "type": "boolean"
        },
        "metadata": {
          "title": "Metadata",
          "type": "object"
        },
        "supported_mime_types": {
          "items": {
            "type": "string"
          },
          "title": "Supported Mime Types",
          "type": "array"
        },
        "max_input_size": {
          "anyOf": [
            {
              "type": "integer"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Max Input Size"
        },
        "streaming": {
          "default": false,
          "title": "Streaming",
          "type": "boolean"
        }
      },
      "required": [
        "type"
      ],
      "title": "ProcessorConfig",
      "type": "object"
    },
    "PromptConfig": {
      "description": "Configuration for prompts from functions.",
      "properties": {
        "import_path": {
          "title": "Import Path",
          "type": "string"
        },
        "name": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Name"
        },
        "description": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Description"
        },
        "template": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Template"
        },
        "completions": {
          "anyOf": [
            {
              "additionalProperties": {
                "type": "string"
              },
              "type": "object"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Completions"
        }
      },
      "required": [
        "import_path"
      ],
      "title": "PromptConfig",
      "type": "object"
    },
    "SourceResource": {
      "description": "Resource from Python source code.",
      "properties": {
        "resource_type": {
          "const": "source",
          "default": "source",
          "title": "Resource Type",
          "type": "string"
        },
        "description": {
          "default": "",
          "title": "Description",
          "type": "string"
        },
        "uri": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Uri"
        },
        "processors": {
          "items": {
            "$ref": "#/$defs/ProcessingStep"
          },
          "title": "Processors",
          "type": "array"
        },
        "watch": {
          "anyOf": [
            {
              "$ref": "#/$defs/WatchConfig"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "import_path": {
          "title": "Import Path",
          "type": "string"
        },
        "recursive": {
          "default": false,
          "title": "Recursive",
          "type": "boolean"
        },
        "include_tests": {
          "default": false,
          "title": "Include Tests",
          "type": "boolean"
        }
      },
      "required": [
        "import_path"
      ],
      "title": "SourceResource",
      "type": "object"
    },
    "TextResource": {
      "description": "Raw text resource.",
      "properties": {
        "resource_type": {
          "const": "text",
          "default": "text",
          "title": "Resource Type",
          "type": "string"
        },
        "description": {
          "default": "",
          "title": "Description",
          "type": "string"
        },
        "uri": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Uri"
        },
        "processors": {
          "items": {
            "$ref": "#/$defs/ProcessingStep"
          },
          "title": "Processors",
          "type": "array"
        },
        "watch": {
          "anyOf": [
            {
              "$ref": "#/$defs/WatchConfig"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "content": {
          "title": "Content",
          "type": "string"
        }
      },
      "required": [
        "content"
      ],
      "title": "TextResource",
      "type": "object"
    },
    "ToolConfig": {
      "description": "Configuration for a tool.",
      "properties": {
        "import_path": {
          "title": "Import Path",
          "type": "string"
        },
        "name": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Name"
        },
        "description": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Description"
        }
      },
      "required": [
        "import_path"
      ],
      "title": "ToolConfig",
      "type": "object"
    },
    "WatchConfig": {
      "description": "Watch configuration for resources.",
      "properties": {
        "enabled": {
          "default": false,
          "title": "Enabled",
          "type": "boolean"
        },
        "patterns": {
          "anyOf": [
            {
              "items": {
                "type": "string"
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Patterns"
        },
        "ignore_file": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Ignore File"
        }
      },
      "title": "WatchConfig",
      "type": "object"
    }
  },
  "description": "Root configuration model.",
  "properties": {
    "version": {
      "default": "1.0",
      "title": "Version",
      "type": "string"
    },
    "global_settings": {
      "$ref": "#/$defs/GlobalSettings"
    },
    "context_processors": {
      "additionalProperties": {
        "$ref": "#/$defs/ProcessorConfig"
      },
      "title": "Context Processors",
      "type": "object"
    },
    "resources": {
      "additionalProperties": {
        "anyOf": [
          {
            "$ref": "#/$defs/PathResource"
          },
          {
            "$ref": "#/$defs/TextResource"
          },
          {
            "$ref": "#/$defs/CLIResource"
          },
          {
            "$ref": "#/$defs/SourceResource"
          },
          {
            "$ref": "#/$defs/CallableResource"
          },
          {
            "$ref": "#/$defs/ImageResource"
          }
        ]
      },
      "title": "Resources",
      "type": "object"
    },
    "resource_groups": {
      "additionalProperties": {
        "items": {
          "type": "string"
        },
        "type": "array"
      },
      "title": "Resource Groups",
      "type": "object"
    },
    "tools": {
      "additionalProperties": {
        "$ref": "#/$defs/ToolConfig"
      },
      "title": "Tools",
      "type": "object"
    },
    "toolsets": {
      "items": {
        "type": "string"
      },
      "title": "Toolsets",
      "type": "array"
    },
    "prompts": {
      "additionalProperties": {
        "$ref": "#/$defs/PromptConfig"
      },
      "title": "Prompts",
      "type": "object"
    }
  },
  "title": "Config",
  "type": "object"
}