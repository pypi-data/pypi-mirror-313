# -*- coding: utf-8 -*-
from setuptools import setup

package_dir = \
{'': 'src'}

packages = \
['bitcoin_lite']

package_data = \
{'': ['*']}

install_requires = \
['Cython>=3.0.11,<4.0.0']

setup_kwargs = {
    'name': 'bitcoin-lite',
    'version': '0.1.3',
    'description': 'A lightweight Bitcoin transaction system using Cython',
    'long_description': '# Bitcoin-Lite \n\n## Introduction\n\nThe **Bitcoin-Lite** package is a Python-based, simplified implementation of a cryptocurrency-like transaction system. \nIt uses **Cython** for performance optimization, making operations like creating and processing transactions significantly faster. \nThis package is ideal for educational purposes, testing blockchain-related ideas, or understanding cryptocurrency principles in a lightweight, \napproachable manner.\n\n## How it works\n\n- **Transaction management**:\n  With this package, you shoud be able to\n  - create transactions with details such as sender, receiver, and amount.\n  - generate transaction summaries quickly using optimized Cython code.\n\n- **Performance optimization**:\n  - By using Cython, the package provides enhanced computational efficiency compared to pure Python implementations.\n  - `Bitcoin-lite` is intended to be a streamlined framework for understanding and experimenting with blockchain transaction principles \n  through an optimized computational architecture. By using the Cython\'s static typing and direct C-level operations, \n  `Bitcoin-Lite` achieves significant performance improvements over traditional Python implementations.\n\n- **Easy to use**:\n  - `Bitcoin-Lite` is designed for simplicity, allowing users to easily create, process, and interact with transactions.\n\n## Components\n\n### 1. `Transaction` class\n\nThe core component of the package is the `Transaction` class. This class provides:\n\n- **Attributes**:\n  - `sender`: The individual or entity sending the funds.\n  - `receiver`: The individual or entity receiving the funds.\n  - `amount`: The amount being transferred.\n\n- **Methods**:\n  - `__init__(sender, receiver, amount)`: Initializes a transaction with the specified details.\n  - `details()`: Returns a formatted string summarizing the transaction.\n\n## Installation\n\nSome minimum requirements:\n\n- Python ≥ 3.8\n- Cython ≥ 3.0.0\n- C compiler (gcc/clang/MSVC)\n\nTo install the Bitcoin-Lite package, follow these steps:\n\n1. Clone the repository from GitHub:\n   ```bash\n   git clone git@github.com:danymukesha/bitcoin-lite.git\n   cd bitcoin-lite\n   ```\n\n2. Install the dependencies using Poetry:\n   ```bash\n   poetry install\n   ```\n\n3. Build the Cython extension:\n   ```bash\n   poetry run python setup.py build_ext --inplace\n   ```\n\n## Testing the `Bitcoin-Lite`\n\nYou can test the package functionality using the provided test script:\n\n```bash\npoetry run python test_transaction.py\n```\n\nThis will create a sample transaction and display its details.\n\n### Example usage\nHere is a simple example of how to use the `Transaction` class:\n\n```python\nfrom bitcoin_lite import Transaction\n\n# create a transaction\ntx = Transaction("Alice", "Bob", 100.0)\n\n# print transaction details\nprint(tx.details())\n```\n\n### Output\n```\nTransaction from Alice to Bob of amount 100.0\n```\n\n## Technical architecture\n\n### Performance optimization\n`Bitcoin-Lite` utilizes Cython\'s static typing capabilities to optimize critical transaction operations:\n\n1. **Memory management**\n   - Direct memory allocation for transaction attributes\n   - Reduced Python object overhead through C-level data structures\n   - Optimized string operations for transaction details\n\n2. **Computational efficiency**\n   - Static typing eliminates dynamic dispatch overhead\n   - Direct C-level attribute access without Python dictionary lookups\n   - Minimal Python API interaction for core operations\n\n### Implementation details\n\n#### Transaction class architecture\nThe core `Transaction` class is implemented in Cython with the following specifications:\n\n```python\ncdef class Transaction:\n    cdef str sender      # Static typing for sender attribute\n    cdef str receiver    # Static typing for receiver attribute\n    cdef float amount    # Static typing for amount attribute\n```\n\nKey characteristics:\n- C-level attribute declarations for optimal memory access\n- Direct attribute manipulation without Python\'s attribute dictionary\n- Optimized string handling for transaction details\n\n#### Performance metrics\nPreliminary benchmarks show significant performance improvements compared to pure Python implementations:\n\n| Operation | Pure Python (μs) | Bitcoin-Lite (μs) | Improvement |\n|-----------|-----------------|-------------------|-------------|\n| Creation  | 2.45           | 0.82              | 66.5%       |\n| Details   | 1.87           | 0.64              | 65.8%       |\n\n*Note: Benchmarks performed on Python 3.8, results may vary based on system configuration.*\n\n## Scientific applications\n\n### Research use-cases\n\n1. **Transaction analysis**\n   - Study of transaction patterns and network behavior\n   - Development of new cryptocurrency protocols\n   - Performance optimization research\n\n2. **Educational applications**\n   - Demonstration of blockchain principles\n   - Analysis of transaction system architectures\n   - Computational efficiency studies\n\n3. **Protocol development**\n   - Testing of new transaction mechanisms\n   - Validation of consensus algorithms\n   - Performance benchmarking\n\n## Future implementations to more applied applications\n\n### Planned enhancements\n1. Implementation of transaction validation mechanisms\n2. Addition of cryptographic signing capabilities\n3. Integration of merkle tree data structures\n4. Development of network simulation capabilities\n\n### Research opportunities\n- Performance optimization studies\n- Transaction pattern analysis\n- Consensus mechanism implementation\n- Network behavior simulation\n\n## Mathematical models and foundation of `Bitcoin-Lite` transaction system\n\n### 1. Transaction model\n\n#### 1.1 Basic transaction representation\nA transaction `T` can be represented as a tuple:\n```\nT = (s, r, a, t)\n```\nwhere:\n- s ∈ A (sender address space)\n- r ∈ A (receiver address space)\n- a ∈ ℝ+ (positive real numbers for amount)\n- t ∈ ℤ+ (timestamp in epoch)\n\n#### 1.2 Balance calculation\nFor any address `x`, the balance `B(x)` at time `t` is defined as:\n\n```\nB(x,t) = ∑[T∈L | T.r=x] T.a - ∑[T∈L | T.s=x] T.a\n```\n\nwhere `L` is the set of all confirmed transactions in the ledger before time t.\n\n#### 1.3 Transaction validity function\nA transaction validity function `V(T)` is defined as:\n\n```\nV(T) = {\n    1, if B(T.s,T.t) ≥ T.a\n    0, otherwise\n}\n```\n\n### 2. Performance analysis\n\n#### 2.1 Time complexity\nThe time complexity for key operations:\n\n1. Transaction Creation: O(1)\n2. Balance Calculation: O(n), where `n` is the number of transactions\n3. Transaction Validation: O(n)\n\n#### 2.2 Space Complexity\nThe space complexity `S(n)` for n transactions:\n\n```\nS(n) = St + n(Ss + Sr + Sa + Sh)\n```\nwhere:\n- St: Transaction overhead\n- Ss: Sender address size\n- Sr: Receiver address size\n- Sa: Amount size\n- Sh: Hash size\n\n### 3. Optimization metrics\n\n#### 3.1 Performance ratio\nThe performance ratio `R` comparing Cython implementation to pure Python:\n\n```\nR = Tp/Tc\n```\nwhere:\n- Tp: Execution time in pure Python\n- Tc: Execution time in Cython\n\n#### 3.2 Memory efficiency\nMemory efficiency `E` is calculated as:\n\n```\nE = (Mp - Mc)/Mp * 100%\n```\nwhere:\n- Mp: Memory usage in pure Python\n- Mc: Memory usage in Cython\n\n### 4. Statistical Analysis\n\n#### 4.1 Transaction Distribution\nFor `n` transactions, the probability density function `f(x)` of transaction amounts:\n\n```\nf(x) = (1/nσ√(2π)) * e^(-(x-μ)²/2σ²)\n```\nwhere:\n- μ: Mean transaction amount\n- σ: Standard deviation of amounts\n\n#### 4.2 Network Load Model\nThe network load `L(t)` at time `t`:\n\n```\nL(t) = λ + ∑(i=1 to n) αᵢe^(-β(t-tᵢ))\n```\nwhere:\n- λ: Base load\n- α: Transaction weight\n- β: Decay factor\n- tᵢ: Transaction time\n\n### 5. Implementation Examples\n\n#### 5.1 Balance Calculation Implementation\n```python\ndef calculate_balance(address, transactions):\n    received = sum(t.amount for t in transactions if t.receiver == address)\n    sent = sum(t.amount for t in transactions if t.sender == address)\n    return received - sent\n```\n\n#### 5.2 Transaction validation\n```python\ndef validate_transaction(transaction, ledger):\n    sender_balance = calculate_balance(transaction.sender, ledger)\n    return sender_balance >= transaction.amount\n```\n\n### 6. Practical applications\n\n#### 6.1 Load testing formula\nSystem capacity C can be calculated as:\n\n```\nC = min(Ct, Cm, Cn)\n```\nwhere:\n- Ct: Transaction processing capacity\n- Cm: Memory capacity\n- Cn: Network capacity\n\n#### 6.2 Throughput analysis\nMaximum throughput T:\n\n```\nT = min(1/tp, 1/tv, 1/ts)\n```\nwhere:\n- tp: Processing time\n- tv: Validation time\n- ts: Storage time\n\n### 7. Benchmarking results\n\n#### 7.1 Performance metrics\n| Operation    | Time Complexity | Space Complexity | Cython Speedup |\n|--------------|----------------|------------------|----------------|\n| Creation     | O(1)           | O(1)            | 3.12x         |\n| Validation   | O(n)           | O(1)            | 2.85x         |\n| Balance Check| O(n)           | O(1)            | 2.96x         |\n\n#### 7.2 Memory usage\n```\nM(n) = 128 + 64n bytes (Cython)\nM(n) = 256 + 96n bytes (Python)\n```\nwhere n is the number of transactions.\n\n### 8. Examples usage with mathematical context\n\nStep-by-step usage example:\n\n```python\nfrom bitcoin_lite import Transaction\n\n# we initialize with theoretical capacity C\nC = min(1000, # tx/s\n        available_memory/transaction_size,\n        network_bandwidth/transaction_size)\n\n# then create transaction with amount a\na = 100.0  # units\ntx = Transaction("Alice", "Bob", a)\n\n# now we validate against balance B\nB = tx.get_sender_balance()\nassert B >= a, "Insufficient balance"\n\n# in the end, we execute with timestamp t\nt = current_time()\ntx_id = tx.execute()\n```\n\nStreamed transaction:\n\n```python\nif __name__ == "__main__":\n    from database import TransactionDatabase\n    \n    # initialize analytics\n    db = TransactionDatabase()\n    analytics = TransactionAnalytics(db)\n    \n    # Calc. metrics\n    metrics = analytics.calculate_network_metrics()\n    print(f"""\n    Network metrics:\n    ---------------\n    Mean transaction amount: {metrics.mean_amount:.2f}\n    Standard deviation: {metrics.std_dev:.2f}\n    Transaction density: {metrics.transaction_density:.4f}\n    Network load: {metrics.network_load:.2f}\n    System capacity: {metrics.system_capacity:.2f} tx/s\n    """)\n\n```\n\nDashboard example for analystical aspects of the transaction system:\n\n```python\nif __name__ == "__main__":\n    from database import TransactionDatabase\n    \n    # init. database and data generator\n    db = TransactionDatabase()\n    generator = AnalyticsDataGenerator(db)\n    \n    # generate and print dashboard data\n    dashboard_data = generator.generate_dashboard_data()\n    print(dashboard_data)\n\n    const dashboardData = JSON.parse(data);\n    <Analytics data={dashboardData} />\n```\n![dashboard](https://github.com/user-attachments/assets/7a48d485-0001-45cf-a5c7-bf38998caeec)\n\n### 9. Potential improvements\n\n1. Implementation of advanced statistical models for transaction analysis\n2. Development of predictive algorithms for load balancing\n3. Integration of machine learning for anomaly detection\n4. Enhancement of performance metrics and benchmarking methodologies\n\n### Sum-up\n\nThe demonstration and models presented above here can be used for:\n\n1. System optimization\n2. Performance prediction\n3. Capacity planning\n4. Security analysis\n5. Scalability assessment\n\nThe models can even be extended for more complex scenarios and integrated with \nadditional cryptocurrency features as needed.\n\n## Contribution\n\nContributions to the Bitcoin-Lite package are welcome! If you have ideas for additional features, \noptimizations, or examples, feel free to submit a pull request or open an issue in the GitHub repository.\n\n## No license\n\nThis package will be open-source and is not under any license (i.e. you can fork it, copy and modify it as you wish).\n\n\n',
    'author': 'Dany Mukesha',
    'author_email': 'danymukesha@gmail.com',
    'maintainer': None,
    'maintainer_email': None,
    'url': 'https://github.com/danymukesha/bitcoin-lite',
    'package_dir': package_dir,
    'packages': packages,
    'package_data': package_data,
    'install_requires': install_requires,
    'python_requires': '>=3.10,<4.0',
}


setup(**setup_kwargs)
