"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6023],{6023:function(e,n,t){t.r(n),t.d(n,{ConcurrencyLimits:function(){return ex},FREE_CONCURRENCY_SLOTS_MUTATION:function(){return ek},INSTANCE_CONCURRENCY_LIMITS_QUERY:function(){return eK},InstanceConcurrencyPage:function(){return el},InstanceConcurrencyPageContent:function(){return eo},RunConcurrencyContent:function(){return ea},default:function(){return eu}});var r=t(73235),i=t(52322),c=t(14934),s=t(79106),o=t(49308),l=t(74580),u=t(35292),a=t(90441),d=t(20156),x=t(38491),y=t(72330),h=t(37483),m=t(89891),p=t(43212),j=t(74159),g=t(92506),f=t(55010),C=t(60603),v=t(35002),b=t(39013),S=t(1747),I=t(2784),K=t(47933),w=t(9108),T=t(77265),k=t(58495),_=t(88510),q=t(35505),N=t(20958),R=t(16336),E=t(17008),F=t(83738);function L(){let e=(0,r._)(["\n  query SingleConcurrencyKeyQuery($concurrencyKey: String!) {\n    instance {\n      id\n      concurrencyLimit(concurrencyKey: $concurrencyKey) {\n        concurrencyKey\n        slotCount\n        claimedSlots {\n          runId\n          stepKey\n        }\n        pendingSteps {\n          runId\n          stepKey\n          enqueuedTimestamp\n          assignedTimestamp\n          priority\n        }\n      }\n    }\n  }\n"]);return L=function(){return e},e}let $="1fr 150px 150px 150px 150px 150px",z=e=>{let{concurrencyKeys:n,onEdit:t,onDelete:r,onSelect:c}=e,s=(0,I.useRef)(null),o=(0,_.MG)({count:n.length,getScrollElement:()=>s.current,estimateSize:()=>64,overscan:10}),l=o.getTotalSize(),u=o.getVirtualItems();return(0,i.jsx)("div",{style:{overflow:"hidden"},children:(0,i.jsxs)(E.W2,{ref:s,children:[(0,i.jsx)(O,{}),(0,i.jsx)(E.Nh,{$totalHeight:l,children:u.map(e=>{let{index:s,key:o,size:l,start:u}=e,a=n[s];return(0,i.jsx)(Q,{concurrencyKey:a,onEdit:t,onDelete:r,onSelect:c,height:l,start:u},o)})})]})})},O=()=>(0,i.jsxs)(E.VJ,{templateColumns:$,sticky:!0,children:[(0,i.jsx)(E.qN,{children:"Concurrency key"}),(0,i.jsx)(E.qN,{children:"Total slots"}),(0,i.jsx)(E.qN,{children:"Assigned steps"}),(0,i.jsx)(E.qN,{children:"Pending steps"}),(0,i.jsx)(E.qN,{children:"All steps"}),(0,i.jsx)(E.qN,{})]}),Q=e=>{let{concurrencyKey:n,onEdit:t,onDelete:r,onSelect:s,height:o,start:l}=e,u=(0,k.F)(100),a=(0,N.aM)(V,{variables:{concurrencyKey:n},skip:!u});(0,R.C4)(a,R.dT);let{data:d}=a,x=null==d?void 0:d.instance.concurrencyLimit;return(0,i.jsx)(E.X2,{$height:o,$start:l,children:(0,i.jsxs)(D,{border:"bottom",children:[(0,i.jsx)(E.E5,{children:(0,i.jsx)(i.Fragment,{children:n})}),(0,i.jsx)(E.E5,{children:x?(0,i.jsx)("div",{children:x.slotCount}):(0,i.jsx)(F.mq,{queryResult:a})}),(0,i.jsx)(E.E5,{children:x?(0,i.jsx)(i.Fragment,{children:x.pendingSteps.filter(e=>!!e.assignedTimestamp).length}):(0,i.jsx)(F.mq,{queryResult:a})}),(0,i.jsx)(E.E5,{children:x?(0,i.jsx)(i.Fragment,{children:x.pendingSteps.filter(e=>!e.assignedTimestamp).length}):(0,i.jsx)(F.mq,{queryResult:a})}),(0,i.jsx)(E.E5,{children:x?(0,i.jsxs)(c.x,{flex:{direction:"row",gap:16,alignItems:"center"},children:[(0,i.jsx)("span",{children:x.pendingSteps.length}),(0,i.jsx)(p.V,{intent:"primary",interactive:!0,children:(0,i.jsx)(m.Z,{onClick:()=>{s(x.concurrencyKey)},children:"View all"})})]}):(0,i.jsx)(F.mq,{queryResult:a})}),(0,i.jsx)(E.E5,{children:(0,i.jsx)(P,{concurrencyKey:n,onEdit:t,onDelete:r})})]})})},P=e=>{let{concurrencyKey:n,onDelete:t,onEdit:r}=e;return(0,i.jsx)(f.J,{content:(0,i.jsxs)(C.v2,{children:[(0,i.jsx)(C.sN,{icon:"edit",text:"Edit",onClick:()=>r(n)}),(0,i.jsx)(C.sN,{icon:"delete",intent:"danger",text:"Delete",onClick:()=>t(n)})]}),position:"bottom-left",children:(0,i.jsx)(x.zx,{icon:(0,i.jsx)(y.JO,{name:"expand_more"})})})},V=(0,N.Ps)(L()),D=(0,q.ZP)(c.x).withConfig({componentId:"sc-77537c9e-0"})(["display:grid;grid-template-columns:",";height:100%;"],$);var U=t(50309),A=t(71406),J=t(69737),M=t(20171),Y=t(4378),B=t(54516),Z=t(59351),W=t(33182),H=t(2278);function G(){let e=(0,r._)(["\n  fragment ConcurrencyStepFragment on PendingConcurrencyStep {\n    runId\n    stepKey\n    enqueuedTimestamp\n    assignedTimestamp\n    priority\n  }\n"]);return G=function(){return e},e}function X(){let e=(0,r._)(["\n  fragment ConcurrencyLimitFragment on ConcurrencyKeyInfo {\n    concurrencyKey\n    slotCount\n    claimedSlots {\n      runId\n      stepKey\n    }\n    pendingSteps {\n      ...ConcurrencyStepFragment\n    }\n  }\n  ","\n"]);return X=function(){return e},e}function ee(){let e=(0,r._)(["\n  fragment RunQueueConfigFragment on RunQueueConfig {\n    maxConcurrentRuns\n    tagConcurrencyLimitsYaml\n  }\n"]);return ee=function(){return e},e}function en(){let e=(0,r._)(["\n  query InstanceConcurrencyLimitsQuery {\n    instance {\n      id\n      info\n      supportsConcurrencyLimits\n      runQueuingSupported\n      runQueueConfig {\n        ...RunQueueConfigFragment\n      }\n      minConcurrencyLimitValue\n      maxConcurrencyLimitValue\n      concurrencyLimits {\n        concurrencyKey\n      }\n    }\n  }\n\n  ","\n"]);return en=function(){return e},e}function et(){let e=(0,r._)(["\n  mutation SetConcurrencyLimit($concurrencyKey: String!, $limit: Int!) {\n    setConcurrencyLimit(concurrencyKey: $concurrencyKey, limit: $limit)\n  }\n"]);return et=function(){return e},e}function er(){let e=(0,r._)(["\n  mutation DeleteConcurrencyLimit($concurrencyKey: String!) {\n    deleteConcurrencyLimit(concurrencyKey: $concurrencyKey)\n  }\n"]);return er=function(){return e},e}function ei(){let e=(0,r._)(["\n  mutation FreeConcurrencySlots($runId: String!, $stepKey: String) {\n    freeConcurrencySlots(runId: $runId, stepKey: $stepKey)\n  }\n"]);return ei=function(){return e},e}function ec(){let e=(0,r._)(["\n  query ConcurrencyKeyDetailsQuery($concurrencyKey: String!) {\n    instance {\n      id\n      concurrencyLimit(concurrencyKey: $concurrencyKey) {\n        ...ConcurrencyLimitFragment\n      }\n    }\n  }\n  ","\n"]);return ec=function(){return e},e}function es(){let e=(0,r._)(["\n  query RunsForConcurrencyKeyQuery($filter: RunsFilter, $limit: Int) {\n    pipelineRunsOrError(filter: $filter, limit: $limit) {\n      ... on Runs {\n        results {\n          id\n          status\n        }\n      }\n    }\n  }\n"]);return es=function(){return e},e}let eo=I.memo(()=>{(0,J.Px)(),(0,M.j)("Concurrency");let[e,n]=(0,Y.q)({queryKey:"key"}),t=(0,N.aM)(eK,{notifyOnNetworkStatusChange:!0}),r=(0,R.C4)(t,R.dT),{data:o}=t;return(0,i.jsx)("div",{style:{overflowY:"auto"},children:o?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(c.x,{margin:{bottom:64},children:(0,i.jsx)(ea,{refreshState:r,hasRunQueue:!!(null==o?void 0:o.instance.runQueuingSupported),runQueueConfig:null==o?void 0:o.instance.runQueueConfig})}),(0,i.jsx)(ex,{instanceConfig:o.instance.info,concurrencyKeys:o.instance.concurrencyLimits.map(e=>e.concurrencyKey),hasSupport:o.instance.supportsConcurrencyLimits,refetch:t.refetch,minValue:o.instance.minConcurrencyLimitValue,maxValue:o.instance.maxConcurrencyLimitValue,selectedKey:e,onSelectKey:n})]}):(0,i.jsx)(c.x,{padding:{vertical:64},children:(0,i.jsx)(s.$,{purpose:"section"})})})}),el=()=>{let{pageTitle:e}=I.useContext(w.N);return(0,i.jsxs)(o.T,{style:{padding:0},children:[(0,i.jsx)(l.m,{title:(0,i.jsx)(u.X6,{children:e}),tabs:(0,i.jsx)(T.Z,{tab:"concurrency"})}),(0,i.jsx)(eo,{})]})};var eu=el;let ea=e=>{let{hasRunQueue:n,runQueueConfig:t,onEdit:r,refreshState:s}=e;if(!n)return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(c.x,{padding:{vertical:16,horizontal:24},border:"bottom",flex:{direction:"row",alignItems:"center",justifyContent:"space-between"},children:[(0,i.jsx)(u.pm,{children:"Run concurrency"}),s?(0,i.jsx)(R.xi,{refreshState:s}):null]}),(0,i.jsxs)(c.x,{padding:{vertical:16,horizontal:24},children:["Run concurrency is not supported with this run coordinator. To enable run concurrency limits, configure your instance to use the ",(0,i.jsx)(u.fv,{children:"QueuedRunCoordinator"})," in your"," ",(0,i.jsx)(u.fv,{children:"dagster.yaml"}),". See the"," ",(0,i.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://docs.dagster.io/deployment/dagster-instance#queuedruncoordinator",children:"QueuedRunCoordinator documentation"})," ","for more information."]})]});let o=(0,i.jsxs)(c.x,{padding:{vertical:16,horizontal:24},children:["Run concurrency can be set in your run queue settings. See the"," ",(0,i.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://docs.dagster.io/guides/limiting-concurrency-in-data-pipelines#configuring-run-level-concurrency",children:"run concurrency documentation"})," ","for more information."]}),l=t?(0,i.jsx)(a.fJ,{children:(0,i.jsxs)("tbody",{children:[(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:"Max concurrent runs:"}),(0,i.jsx)("td",{children:t.maxConcurrentRuns})]}),(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:"Tag concurrency limits:"}),(0,i.jsx)("td",{children:t.tagConcurrencyLimitsYaml?(0,i.jsx)(d.u,{value:t.tagConcurrencyLimitsYaml,options:{readOnly:!0,lineNumbers:!0,mode:"yaml"}}):"-"})]})]})}):null;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(ed,{onEdit:r,refreshState:s}),o,l]})},ed=e=>{let{onEdit:n,refreshState:t}=e;return(0,i.jsxs)(c.x,{flex:{justifyContent:"space-between",alignItems:"center"},padding:{vertical:16,horizontal:24},border:"bottom",children:[(0,i.jsx)(u.pm,{children:"Run concurrency"}),(0,i.jsxs)(c.x,{flex:{direction:"row",alignItems:"center",gap:8},children:[t?(0,i.jsx)(R.xi,{refreshState:t}):null,n?(0,i.jsx)(x.zx,{icon:(0,i.jsx)(y.JO,{name:"edit"}),onClick:()=>n(),children:"Edit configuration"}):null]})]})},ex=e=>{let{instanceConfig:n,hasSupport:t,concurrencyKeys:r,refetch:s,minValue:o,maxValue:l,selectedKey:u,onSelectKey:a}=e,[d,x]=I.useState(),y=I.useCallback(()=>{a(void 0)},[a]),[p,j]=I.useState(""),g=I.useMemo(()=>[...r].filter(e=>e.includes(p)).sort((e,n)=>A.Bl.compare(e,n)),[r,p]),f=()=>{x({actionType:"add"})};return!t&&n&&n.includes("SqliteEventLogStorage")?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(ey,{}),(0,i.jsx)(c.x,{margin:24,children:(0,i.jsx)(h.t,{icon:"error",title:"No concurrency support",description:"This instance does not support global concurrency limits. You will need to configure a different storage implementation (e.g. Postgres/MySQL) to use this feature."})})]}):!1===t?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(ey,{}),(0,i.jsx)(c.x,{margin:24,children:(0,i.jsx)(h.t,{icon:"error",title:"No concurrency support",description:"This instance does not currently support global concurrency limits. You may need to run `dagster instance migrate` to add the necessary tables to your dagster storage to support this feature."})})]}):(0,i.jsxs)(c.x,{flex:{direction:"column"},style:{overflow:"auto",height:"100%"},children:[(0,i.jsx)(ey,{onAdd:f,search:p,setSearch:j}),0===r.length?(0,i.jsx)(c.x,{margin:24,children:(0,i.jsx)(h.t,{icon:"error",title:"No concurrency limits",description:(0,i.jsxs)(i.Fragment,{children:["No concurrency limits have been configured for this instance.\xa0",(0,i.jsx)(m.Z,{onClick:()=>f(),children:"Add a concurrency limit"}),"."]})})}):(0,i.jsx)(z,{concurrencyKeys:g,onDelete:e=>{x({actionType:"delete",concurrencyKey:e})},onEdit:e=>{x({actionType:"edit",concurrencyKey:e})},onSelect:a}),(0,i.jsx)(em,{open:(null==d?void 0:d.actionType)==="add",onClose:()=>x(void 0),onComplete:s,minValue:null!=o?o:1,maxValue:null!=l?l:1e3}),(0,i.jsx)(ej,{concurrencyKey:d&&"delete"===d.actionType?d.concurrencyKey:"",open:(null==d?void 0:d.actionType)==="delete",onClose:()=>x(void 0),onComplete:s}),(0,i.jsx)(ep,{open:(null==d?void 0:d.actionType)==="edit",onClose:()=>x(void 0),onComplete:s,concurrencyKey:(null==d?void 0:d.actionType)==="edit"?d.concurrencyKey:"",minValue:null!=o?o:1,maxValue:null!=l?l:1e3}),(0,i.jsx)(ef,{title:(0,i.jsxs)("span",{children:["Concurrency steps for ",(0,i.jsx)("strong",{children:u})]}),onClose:y,concurrencyKey:u,onUpdate:s})]})},ey=e=>{let{onAdd:n,setSearch:t,search:r}=e;return(0,i.jsxs)(c.x,{flex:{direction:"column"},children:[(0,i.jsxs)(c.x,{flex:{justifyContent:"space-between",alignItems:"center"},padding:{vertical:16,horizontal:24},border:"top-and-bottom",children:[(0,i.jsxs)(c.x,{flex:{alignItems:"center",direction:"row",gap:8},children:[(0,i.jsx)(u.pm,{children:"Global op/asset concurrency"}),(0,i.jsx)(p.V,{children:"Experimental"})]}),n?(0,i.jsx)(x.zx,{icon:(0,i.jsx)(y.JO,{name:"add_circle"}),onClick:()=>n(),children:"Add concurrency limit"}):null]}),t?(0,i.jsx)(c.x,{flex:{direction:"row"},padding:{vertical:16,horizontal:24},border:"bottom",children:(0,i.jsx)(j.oi,{value:r||"",style:{width:"30vw",minWidth:150,maxWidth:400},placeholder:"Filter concurrency keys",onChange:e=>t(e.target.value)})}):null]})},eh=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3;if(!e)return!1;let r=parseInt(e);return!isNaN(r)&&String(r)===e.trim()&&r>=n&&r<=t},em=e=>{let{open:n,onClose:t,onComplete:r,maxValue:s,minValue:o}=e,[l,u]=I.useState(!1),[a,d]=I.useState(""),[y,h]=I.useState("");I.useEffect(()=>{d(""),h("")},[n]);let[m]=(0,N.Db)(ew),p=async()=>{u(!0),await m({variables:{concurrencyKey:y,limit:parseInt(a.trim())}}),u(!1),r(),t()};return(0,i.jsxs)(g.Vq,{isOpen:n,title:"Add concurrency limit",onClose:t,children:[(0,i.jsxs)(g.a7,{children:[(0,i.jsx)(c.x,{margin:{bottom:4},children:"Concurrency key:"}),(0,i.jsx)(c.x,{margin:{bottom:16},children:(0,i.jsx)(j.oi,{value:y||"",onChange:e=>h(e.target.value),placeholder:"Concurrency key"})}),(0,i.jsxs)(c.x,{margin:{bottom:4},children:["Concurrency limit (",o,"-",s,"):"]}),(0,i.jsx)(c.x,{children:(0,i.jsx)(j.oi,{value:a||"",onChange:e=>d(e.target.value),placeholder:"".concat(o," - ").concat(s)})})]}),(0,i.jsxs)(g.cN,{children:[(0,i.jsx)(x.zx,{intent:"none",onClick:t,children:"Cancel"}),(0,i.jsx)(x.zx,{intent:"primary",onClick:p,disabled:!eh(a.trim(),o,s)||!y||l,children:l?"Adding...":"Add limit"})]})]})},ep=e=>{let{concurrencyKey:n,open:t,onClose:r,onComplete:s,minValue:o,maxValue:l}=e,[a,d]=I.useState(!1),[y,h]=I.useState("");I.useEffect(()=>{h("")},[t]);let[m]=(0,N.Db)(ew),p=async()=>{d(!0),await m({variables:{concurrencyKey:n,limit:parseInt(y.trim())}}),d(!1),s(),r()},f=(0,i.jsxs)(i.Fragment,{children:["Edit ",(0,i.jsx)(u.fv,{children:n})]});return(0,i.jsxs)(g.Vq,{isOpen:t,title:f,onClose:r,children:[(0,i.jsxs)(g.a7,{children:[(0,i.jsx)(c.x,{margin:{bottom:4},children:"Concurrency key:"}),(0,i.jsx)(c.x,{margin:{bottom:16},children:(0,i.jsx)("strong",{children:n})}),(0,i.jsxs)(c.x,{margin:{bottom:4},children:["Concurrency limit (",o,"-",l,"):"]}),(0,i.jsx)(c.x,{children:(0,i.jsx)(j.oi,{value:y||"",onChange:e=>h(e.target.value),placeholder:"".concat(o," - ").concat(l)})})]}),(0,i.jsxs)(g.cN,{children:[(0,i.jsx)(x.zx,{intent:"none",onClick:r,children:"Close"}),a?(0,i.jsx)(x.zx,{intent:"primary",disabled:!0,children:"Updating..."}):(0,i.jsx)(x.zx,{intent:"primary",onClick:p,disabled:!eh(y.trim(),o,l),children:"Update limit"})]})]})},ej=e=>{let{concurrencyKey:n,open:t,onClose:r,onComplete:c}=e,[s,o]=I.useState(!1),[l]=(0,N.Db)(eT),a=async()=>{o(!0),await l({variables:{concurrencyKey:n}}),o(!1),c(),r()},d=(0,i.jsxs)(i.Fragment,{children:["Delete ",(0,i.jsx)(u.fv,{children:n})]});return(0,i.jsxs)(g.Vq,{isOpen:t,title:d,onClose:r,children:[(0,i.jsxs)(g.a7,{children:["Delete concurrency limit\xa0",(0,i.jsx)("strong",{children:n}),"?"]}),(0,i.jsxs)(g.cN,{children:[(0,i.jsx)(x.zx,{intent:"none",onClick:r,children:"Close"}),s?(0,i.jsx)(x.zx,{intent:"danger",disabled:!0,children:"Deleting..."}):(0,i.jsx)(x.zx,{intent:"danger",onClick:a,children:"Delete limit"})]})]})},eg=e=>{let{pendingStep:n,onUpdate:t}=e,[r]=(0,N.Db)(ek);return(0,i.jsx)(f.J,{content:(0,i.jsxs)(C.v2,{children:[(0,i.jsx)(C.sN,{icon:"status",text:"Free concurrency slot for step",onClick:async()=>{var e;(null===(e=(await r({variables:{runId:n.runId,stepKey:n.stepKey}})).data)||void 0===e?void 0:e.freeConcurrencySlots)&&(t(),await (0,U.B7)({intent:"success",icon:"copy_to_clipboard_done",message:"Freed concurrency slot"}))}},"free-concurrency-slots-step"),(0,i.jsx)(C.sN,{icon:"status",text:"Free all concurrency slots for run",onClick:async()=>{var e;await (0,U.B7)({message:"Freeing concurrency slots..."}),(null===(e=(await r({variables:{runId:n.runId}})).data)||void 0===e?void 0:e.freeConcurrencySlots)&&(t(),await (0,U.B7)({intent:"success",icon:"copy_to_clipboard_done",message:"Freed concurrency slots"}))}},"free-concurrency-slots-run")]}),position:"bottom-right",children:(0,i.jsx)(x.zx,{rightIcon:(0,i.jsx)(y.JO,{name:"expand_more"}),children:"Actions"})})},ef=e=>{let{concurrencyKey:n,onClose:t,title:r,onUpdate:o}=e,l=(0,N.aM)(e_,{variables:{concurrencyKey:n||""},skip:!n});(0,R.C4)(l,R.dT);let{data:u}=l,a=I.useCallback(()=>{l.refetch(),o()},[l,o]);return(0,i.jsxs)(g.Vq,{isOpen:!!n,title:r,onClose:t,style:{minWidth:"400px",maxWidth:"1000px",width:"90vw",maxHeight:"90vh"},children:[(0,i.jsx)(c.x,{padding:{vertical:16},flex:{grow:1},style:{overflowY:"auto"},children:u?(0,i.jsx)(eC,{keyInfo:u.instance.concurrencyLimit,refresh:a}):(0,i.jsx)(c.x,{padding:{vertical:64},children:(0,i.jsx)(s.$,{purpose:"section"})})}),(0,i.jsx)(g.cN,{children:(0,i.jsx)(x.zx,{intent:"none",onClick:t,children:"Close"})})]})},eC=e=>{var n;let{keyInfo:t,refresh:r}=e,s=[...new Set(t.pendingSteps.map(e=>e.runId))],o=(0,N.aM)(eq,{variables:{filter:{runIds:s}},skip:!t.pendingSteps.length}),l={};((null===(n=o.data)||void 0===n?void 0:n.pipelineRunsOrError.__typename)==="Runs"?o.data.pipelineRunsOrError.results:[]).forEach(e=>{l[e.id]=e.status});let u=[...t.pendingSteps];u.sort((e,n)=>e.priority&&n.priority&&e.priority!==n.priority?e.priority-n.priority:e.enqueuedTimestamp-n.enqueuedTimestamp);let a=u.filter(e=>!!e.assignedTimestamp),d=u.filter(e=>!e.assignedTimestamp),x=(0,i.jsx)("thead",{children:(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{children:"Run ID"}),(0,i.jsx)("th",{children:"Step key"}),(0,i.jsx)("th",{children:"Assigned"}),(0,i.jsx)("th",{children:"Queued"}),(0,i.jsx)("th",{children:(0,i.jsxs)(c.x,{flex:{alignItems:"center",direction:"row",gap:4},children:["Priority",(0,i.jsx)(v.u,{placement:"top",content:"Priority can be set on each op/asset using the 'dagster/priority' tag. Higher priority steps will be assigned slots first.",children:(0,i.jsx)(y.JO,{name:"info",color:b.md()})})]})}),(0,i.jsx)("th",{})]})});return u.length?(0,i.jsxs)(S.i,{children:[x,(0,i.jsx)("tbody",{style:{backgroundColor:b.B5()},children:a.map(e=>(0,i.jsx)(ev,{step:e,statusByRunId:l,onUpdate:r},e.runId+e.stepKey))}),(0,i.jsx)("tbody",{children:d.map(e=>(0,i.jsx)(ev,{step:e,statusByRunId:l,onUpdate:r},e.runId+e.stepKey))})]}):(0,i.jsxs)(S.i,{children:[x,(0,i.jsx)("tbody",{children:(0,i.jsx)("tr",{children:(0,i.jsx)("td",{colSpan:6,children:(0,i.jsx)(c.x,{flex:{alignItems:"center",justifyContent:"center"},style:{color:b.$()},padding:16,children:"There are no active or pending steps for this concurrency key."})})})})]})},ev=e=>{let{step:n,statusByRunId:t,onUpdate:r}=e,s=t[n.runId];return(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:s?(0,i.jsx)(K.rU,{to:"/runs/".concat(n.runId),children:(0,i.jsxs)(c.x,{flex:{direction:"row",alignItems:"center",gap:8},children:[(0,i.jsx)(B.O_,{status:s,size:10}),(0,i.jsx)(u.fv,{children:(0,W.EI)({id:n.runId})}),Z.hd.has(s)?(0,i.jsx)(v.u,{placement:"top",content:"Slots for canceled / failed runs can automatically be freed by configuring a run monitoring setting.",children:(0,i.jsx)(y.JO,{name:"info",color:b.md()})}):null]})}):(0,i.jsx)(u.fv,{children:(0,W.EI)({id:n.runId})})}),(0,i.jsx)("td",{children:(0,i.jsx)(u.fv,{children:n.stepKey})}),(0,i.jsx)("td",{children:n.assignedTimestamp?(0,i.jsx)(H.Q,{startUnix:n.assignedTimestamp,endUnix:null}):"-"}),(0,i.jsx)("td",{children:n.enqueuedTimestamp?(0,i.jsx)(H.Q,{startUnix:n.enqueuedTimestamp,endUnix:null}):"-"}),(0,i.jsx)("td",{children:n.priority}),(0,i.jsx)("td",{children:(0,i.jsx)(eg,{pendingStep:n,onUpdate:r})})]})},eb=(0,N.Ps)(G()),eS=(0,N.Ps)(X(),eb),eI=(0,N.Ps)(ee()),eK=(0,N.Ps)(en(),eI),ew=(0,N.Ps)(et()),eT=(0,N.Ps)(er()),ek=(0,N.Ps)(ei()),e_=(0,N.Ps)(ec(),eS),eq=(0,N.Ps)(es())},77265:function(e,n,t){t.d(n,{Z:function(){return f}});var r=t(52322),i=t(14934),c=t(73407),s=t(2784),o=t(9108),l=t(35232),u=t(16336),a=t(72330),d=t(39013),x=t(29185),y=t(83613);let h=(0,s.memo)(()=>{let{daemons:e}=(0,s.useContext)(y.Z);return e?(0,r.jsx)(x.a,{content:e.content,position:"bottom",modifiers:{offset:{enabled:!0,options:{offset:[0,28]}}},children:(0,r.jsx)(a.JO,{name:"warning",color:d.qr()})}):null});var m=t(35002),p=t(79106);let j=(0,s.memo)(e=>{let{placeholder:n}=e,{codeLocations:t}=(0,s.useContext)(y.Z);return t?"spinner"===t.type?(0,r.jsx)(m.u,{content:t.content,placement:"bottom",children:(0,r.jsx)(p.$,{purpose:"body-text",fillColor:d.md()})}):(0,r.jsx)(x.a,{content:t.content,position:"bottom",modifiers:{offset:{enabled:!0,options:{offset:[0,28]}}},children:(0,r.jsx)(a.JO,{name:"warning",color:d.qr()})}):n?(0,r.jsx)("div",{style:{width:"16px"}}):null});var g=t(89918);let f=e=>{let{refreshState:n,tab:t}=e,{healthTitle:a}=(0,s.useContext)(o.N),d=(0,l._)();return(0,r.jsxs)(i.x,{flex:{direction:"row",justifyContent:"space-between",alignItems:"flex-end"},children:[(0,r.jsxs)(c.mQ,{selectedTabId:t,children:[(0,r.jsx)(g.f,{id:"locations",title:"Code locations",to:"/locations",icon:(0,r.jsx)(j,{placeholder:!1})}),(0,r.jsx)(g.f,{id:"health",title:a,to:"/health",icon:(0,r.jsx)(h,{})}),d?(0,r.jsx)(g.f,{id:"concurrency",title:"Concurrency limits",to:"/concurrency"}):null,d?(0,r.jsx)(g.f,{id:"config",title:"Configuration",to:"/config"}):null]}),n?(0,r.jsx)(i.x,{padding:{bottom:8},children:(0,r.jsx)(u.xi,{refreshState:n})}):null]})}},35232:function(e,n,t){t.d(n,{_:function(){return s}});var r=t(73235),i=t(20958);function c(){let e=(0,r._)(["\n  query InstanceConfigHasInfo {\n    instance {\n      id\n      hasInfo\n    }\n  }\n"]);return c=function(){return e},e}let s=()=>{var e;return!!(null===(e=(0,i.aM)(o).data)||void 0===e?void 0:e.instance.hasInfo)},o=(0,i.Ps)(c())}}]);
//# sourceMappingURL=6023.26d220517b815f42.js.map