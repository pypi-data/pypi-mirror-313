(self.webpackChunk=self.webpackChunk||[]).push([[2737],{68940:function(e,n,r){"use strict";r.d(n,{U:function(){return l},Z:function(){return a}});var t=r(9532),o=r(50959);function a(){return t.Z.CancelToken.source}function l(){var e=t.Z.CancelToken.source,n=(0,o.useRef)(null);return(0,o.useEffect)((function(){return function(){n.current&&n.current.cancel()}}),[]),{updateCancelToken:function(){n.current&&n.current.cancel(),n.current=e()},cancelRequest:function(){n.current&&n.current.cancel()},getCanceltToken:function(){return n.current.token},source:e}}},43337:function(e,n,r){"use strict";r.d(n,{Z:function(){return R}});var t=r(90228),o=r.n(t),a=r(48305),l=r.n(a),s=r(335),c=r.n(s),i=r(87999),u=r.n(i),d=r(15558),f=r.n(d),p=r(26068),m=r.n(p),v=r(43943),h=r(99178),g=r(8267),x=r(23333),b=r(85885),y=r(82187),C=r.n(y),k=r(50959),j=r(11527),w=function(e){var n=e.value,r=e.onChange,t=e.style,o=e.label,a=e.placeholder,s=e.height,c=void 0===s?46:s,i=(0,h.useIntl)(),u=k.useRef(null),d=(0,k.useState)({minRows:1,maxRows:1,focus:!1}),f=l()(d,2),p=f[0],y=f[1],w=function(){y({minRows:3,maxRows:3,focus:!0}),setTimeout((function(){var e,n;null===(e=u.current)||void 0===e||null===(n=e.focus)||void 0===n||n.call(e,{cursor:"end"})}),50)};return(0,j.jsxs)("div",{className:C()("row-textarea",{focus:p.focus}),style:m()({},t),children:[(0,j.jsxs)("div",{style:{display:p.focus?"block":"none"},className:"textarea-wrapper",children:[o&&(0,j.jsx)("span",{className:"textarea-label",children:o}),(0,j.jsx)(g.Z.TextArea,{className:"custome-scrollbar",ref:u,placeholder:a,style:{borderRadius:"0",border:"none"},value:n,autoSize:{minRows:p.minRows,maxRows:p.maxRows},onFocus:w,onBlur:function(e){y({minRows:2,maxRows:2,focus:!1})},allowClear:!1,onChange:function(e){null==r||r(e)},onPaste:function(n){var r;null===(r=e.onPaste)||void 0===r||r.call(e,n)}})]}),!p.focus&&(0,j.jsxs)("div",{className:"content-wrap",onClick:w,children:[(0,j.jsxs)("div",{className:"content",style:{height:c},children:[o&&(0,j.jsx)("span",{className:"title",children:o}),n||(0,j.jsx)("span",{style:{color:"var(--ant-color-text-tertiary)"},children:a})]}),n&&(0,j.jsx)(x.Z,{title:i.formatMessage({id:"common.button.clear"}),children:(0,j.jsx)(b.ZP,{className:"clear-btn",type:"text",icon:(0,j.jsx)(v.Z,{}),size:"small",onClick:function(){null==r||r({target:{value:""}})}})})]})]})},N=k.memo(w),S=r(69070),Z=r(32699),I=r.n(Z),P=(0,k.forwardRef)((function(e,n){var r=e.textList,t=e.showLabel,a=void 0===t||t,s=e.sortIndex,i=void 0===s?[]:s,d=e.sortable,p=e.height,m=e.onSort,v=e.onChange,g=e.extra,y=e.onPaste,C=(0,h.useIntl)(),w=(0,k.useRef)(0),Z=(0,k.useRef)(null),P=(0,k.useRef)([]),R=function(){var e;P.current=Array.from((null===(e=Z.current)||void 0===e?void 0:e.children)||[])},$=(0,k.useCallback)((function(e,n){var r=e.getBoundingClientRect(),t=n.getBoundingClientRect();return{x:t.left-r.left,y:t.top-r.top}}),[]),O=(0,k.useCallback)((function(e,n){var r=Z.current;if(r){var t=Array.from(r.children);n>=t.length?r.firstChild?r.insertBefore(e,r.firstChild):r.appendChild(e):r.insertBefore(e,t[n])}}),[]),T=function(e,n,r){if(n===r||n<0||r<0||n>=e.length||r>e.length)return e;var t=e.splice(n,1)[0];return e.splice(r>n?r-1:r,0,t),e},z=(0,k.useCallback)((function(){if(d&&(R(),Z.current)){var e=f()(r),n=i.map((function(e,n){var r=P.current[e],t=P.current[n];if(!r||!t)return null;var o=$(r,t);return{element:r,offset:{x:o.x,y:o.y},fromIndex:e,toIndex:n}})),t=function(){var r=u()(o()().mark((function r(){var t,a,s;return o()().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:t=c()(n.entries()),r.prev=1,s=o()().mark((function n(){var r,t,s,c,i,u;return o()().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=l()(a.value,2),r[0],t=r[1]){n.next=3;break}return n.abrupt("return",1);case 3:return s=t.element,c=t.offset,i=t.fromIndex,u=t.toIndex,n.next=7,new Promise((function(n){s.style.opacity=.5,s.style.transform="translate(".concat(c.x,"px, ").concat(c.y,"px)"),s.style.transition="transform 0.8s,opacity 0.8s",s.addEventListener("transitionend",(function(){O(s,u),T(e,i,u),R(),s.style.opacity=1,s.style.transform="",n(null)}),{once:!0})}));case 7:case"end":return n.stop()}}),n)})),t.s();case 4:if((a=t.n()).done){r.next=10;break}return r.delegateYield(s(),"t0",6);case 6:if(!r.t0){r.next=8;break}return r.abrupt("continue",8);case 8:r.next=4;break;case 10:r.next=15;break;case 12:r.prev=12,r.t1=r.catch(1),t.e(r.t1);case 15:return r.prev=15,t.f(),r.finish(15);case 18:null==m||m(e);case 19:case"end":return r.stop()}}),r,null,[[1,12,15,18]])})));return function(){return r.apply(this,arguments)}}();t()}}),[d,i,r,m,R,$]),E=function(){return w.current=w.current+1,w.current},M=function(){E();var e=f()(r);e.push({text:"",uid:w.current,name:"Text ".concat(e.length+1)}),null==v||v(e)},_=function(e){var n=f()(r),t=n.findIndex((function(n){return n.uid===e.uid}));n.splice(t,1),null==v||v(n)},B=function(e,n){var t=f()(r),o=t.findIndex((function(e){return e.uid===n.uid}));t[o].text=e,null==v||v(t)},A=I().debounce(z,100);return(0,k.useEffect)((function(){null!=i&&i.length&&A()}),[i]),(0,k.useImperativeHandle)(n,(function(){return{handleAdd:M,handleDelete:_,handleTextChange:B,setMessageId:E}})),(0,j.jsx)("div",{className:"input-list",ref:Z,children:r.map((function(e,n){return(0,j.jsxs)("div",{className:"input-item","data-uid":e.uid,children:[(0,j.jsx)("div",{className:"input-wrap",children:(0,j.jsx)(N,{height:p,label:a?"".concat(n+1):null,value:e.text,placeholder:C.formatMessage({id:"playground.embedding.inputyourtext"}),onChange:function(n){return B(n.target.value,e)},onPaste:function(e){return null==y?void 0:y(e,n)}})}),(0,j.jsx)("span",{className:"btn-group",children:(0,j.jsx)(x.Z,{title:C.formatMessage({id:"common.button.delete"}),children:(0,j.jsx)(b.ZP,{danger:!0,size:"small",type:"text",icon:(0,j.jsx)(S.Z,{}),onClick:function(){return _(e)}})})}),null==g?void 0:g(e)]},e.uid)}))})})),R=k.memo(P)},49918:function(e,n,r){"use strict";var t=r(26068),o=r.n(t),a=r(48305),l=r.n(a),s=r(16850),c=r(16333),i=r(90515),u=r(99178),d=r(1956),f=r(85885),p=r(50959),m=r(11527),v="bash",h="python",g="javascript",x=[{label:"Curl",value:v},{label:"Python",value:h},{label:"JavaScript",value:g}];n.Z=function(e){var n=e||{},r=n.title,t=n.open,a=n.onCancel,b=n.payload,y=n.parameters,C=void 0===y?{}:y,k=n.api,j=n.logcommand,w=(0,u.useIntl)(),N=(0,p.useState)(""),S=l()(N,2),Z=S[0],I=S[1],P=(0,p.useState)(v),R=l()(P,2),$=R[0],O=R[1],T="".concat(window.location.origin).concat(k);return(0,p.useEffect)((function(){!function(){if($===v){var e="curl ".concat(window.location.origin).concat(k,' \\\n-H "Content-Type: application/json" \\\n-H "Authorization: Bearer ${YOUR_GPUSTACK_API_KEY}" \\\n-d \'').concat(JSON.stringify(o()(o()({},C),b),null,2),"'");I(e)}else if($===g){var n=o()(o()({},C),b),r="import axios from 'axios';\n\nconst url = \"".concat(T,'";\n\nconst headers = ').concat(JSON.stringify({"Content-type":"application/json",Authorization:"Bearer ${YOUR_GPUSTACK_API_KEY}"},null,2),";\n\nconst data = ").concat(JSON.stringify(n,null,2),";\n\naxios.post(url, data, { headers }).then((response) => {\n  console.log(response.").concat(j.node,");\n});");I(r)}else if($===h){var t=o()(o()({},C),b),a='import requests\n\nurl="'.concat(T,'"\n\nheaders = ').concat(JSON.stringify({"Content-type":"application/json",Authorization:"Bearer ${YOUR_GPUSTACK_API_KEY}"},null,2),"\n\ndata=").concat(JSON.stringify(t,null,2).replace(/null/g,"None"),"\n\nresponse = requests.post(url, headers=headers, json=data)\n\nprint(response.").concat(j.python,")");I(a)}}()}),[$,C,b]),(0,m.jsx)(m.Fragment,{children:(0,m.jsxs)(d.Z,{title:r,open:t,centered:!0,onCancel:function(){O(v),a()},destroyOnClose:!0,closeIcon:!0,maskClosable:!1,keyboard:!1,width:600,footer:null,children:[(0,m.jsx)("div",{style:{marginBottom:"10px"},children:w.formatMessage({id:"playground.viewcode.info"})}),(0,m.jsxs)("div",{children:[(0,m.jsx)(s.Z,{copyText:Z,langOptions:x,defaultValue:v,showHeader:!0,onChangeLang:function(e){O(e)},styles:{wrapper:{backgroundColor:"var(--color-editor-dark)"}},children:(0,m.jsx)(c.Z,{height:380,theme:"dark",code:Z,lang:$,copyable:!1})}),(0,m.jsxs)("div",{style:{marginTop:10,display:"flex",alignItems:"baseline"},children:[(0,m.jsx)(i.Z,{className:"m-r-8"}),(0,m.jsx)("span",{children:w.formatMessage({id:"playground.viewcode.tips"},{here:(0,m.jsx)(f.ZP,{type:"link",size:"small",href:"#/api-keys",target:"_blank",style:{paddingInline:2},children:(0,m.jsxs)("span",{children:[" ",w.formatMessage({id:"playground.viewcode.here"})]})})})})]})]})]})})}},59129:function(e,n,r){"use strict";r.r(n),r.d(n,{default:function(){return Y}});var t=r(90228),o=r.n(t),a=r(87999),l=r.n(a),s=r(48305),c=r.n(s),i=r(83057),u=r(93495),d=r(55169),f=r(99178),p=r(54235),m=r(85885),v=r(82187),h=r.n(v),g=r(32699),x=r.n(g),b=r(50959),y=r(94299),C=r(35014),k=r(26068),j=r.n(k),w=r(15558),N=r.n(w),S=r(49662),Z=r(571),I=r(68940),P=r(77353),R=r(4423),$=r(19019),O=r(51076),T=r(76808),z=r(8267),E=r(23333),M=r(83603),_=r(54876),B=(r(72183),r(9298)),A=(r(51662),r(10074),r(21435),r(76483)),H=r(43337),L=r(49918),q=r(11527),U=[{type:"InputNumber",name:"top_n",label:{text:"Top N",isLocalized:!1},attrs:{min:1},rules:[{required:!0,message:"Top N is required"}]}],D={top_n:3},F=(0,b.forwardRef)((function(e,n){var r=e.modelList,t=(0,b.useRef)(0),a=(0,b.useState)([]),s=c()(a,2),i=s[0],d=s[1],p=(0,f.useIntl)(),v=(0,I.Z)(),g=(0,f.useSearchParams)(),k=c()(g,1)[0].get("model")||"",w=(0,b.useState)({}),F=c()(w,2),K=F[0],Y=F[1],J=(0,b.useState)(!1),W=c()(J,2),G=W[0],X=W[1],V=(0,b.useState)(!1),Q=c()(V,2),ee=Q[0],ne=Q[1],re=(0,b.useState)(null),te=c()(re,2),oe=te[0],ae=te[1],le=(0,b.useState)(!1),se=c()(le,2),ce=se[0],ie=se[1],ue=(0,b.useRef)(""),de=(0,b.useRef)(null),fe=(0,b.useRef)(null),pe=(0,b.useRef)(null),me=(0,b.useRef)(0),ve=(0,b.useRef)(null),he=(0,b.useRef)(null),ge=(0,b.useRef)(!0),xe=(0,b.useState)(!1),be=c()(xe,2),ye=be[0],Ce=be[1],ke=(0,b.useState)([]),je=c()(ke,2),we=je[0],Ne=je[1],Se=(0,b.useState)([{text:"",uid:-1,name:""},{text:"",uid:-2,name:""}]),Ze=c()(Se,2),Ie=Ze[0],Pe=Ze[1],Re=(0,b.useState)([]),$e=c()(Re,2),Oe=$e[0],Te=$e[1],ze=(0,b.useRef)(""),Ee=(0,Z.Z)(),Me=Ee.initialize,_e=Ee.updateScrollerPosition,Be=(0,Z.Z)(),Ae=Be.initialize,He=Be.updateScrollerPosition;(0,b.useImperativeHandle)(n,(function(){return{viewCode:function(){X(!0)},setCollapse:function(){ie(!ce)}}}));var Le=function(e){var n=[.5,1],r=n[0],t=n[1],o=e.min,a=e.max,l=e.value;return isNaN(l)||isNaN(o)||isNaN(a)||o>a?0:o===a?100:100*(r+(l-o)*(t-r)/(a-o))},qe=(0,b.useCallback)((function(e){if(!e.showExtra||!e.percent)return null;var n=e.percent;return(0,q.jsxs)("div",{className:"rank-wrapper",children:[(0,q.jsx)("div",{className:"percent-wrapper",children:(0,q.jsx)("div",{className:"pregress-bar",style:{backgroundImage:"linear-gradient(90deg, #388bff 0%, #cce1ff 100%)",width:"".concat(n,"%"),height:"4px",borderRadius:"2px"}})}),(0,q.jsxs)("span",{className:"flex-center hover-hidden rank-tag",children:[(0,q.jsxs)(T.Z,{color:"geekblue",bordered:!1,children:[p.formatMessage({id:"playground.rerank.rank"}),": ",e.rank]}),(0,q.jsxs)(T.Z,{color:"gold",bordered:!1,children:[p.formatMessage({id:"playground.rerank.score"}),":"," ",x().round(e.score,2)]})]})]})}),[]),Ue=function(){return t.current=t.current+1,t.current},De=function(){var e=l()(o()().mark((function e(n){var r,t,a,l,s,c,i,u,f,p,m,h,g;return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(r=he.current)||void 0===r?void 0:r.form.validateFields();case 2:if(K.model){e.next=4;break}return e.abrupt("return");case 4:if(e.prev=4,c=[].concat(N()(Ie),N()(we)),c.filter((function(e){return e.text})).length){e.next=10;break}return Ce(!0),e.abrupt("return");case 10:return Ce(!1),ne(!0),Ue(),ae(null),Te([]),null===(t=ve.current)||void 0===t||null===(a=t.cancel)||void 0===a||a.call(t),ve.current=v(),ue.current=(null==n?void 0:n.content)||"",e.next=20,(0,C.AA)({model:K.model,top_n:K.top_n,query:ue.current,documents:[].concat(N()(Ie.map((function(e){return e.text}))),N()(we.map((function(e){return e.text}))))},{token:ve.current.token});case 20:i=e.sent,Ue(),ae(i.usage),u=x().sortBy(i.results||[],(function(e){return e.relevance_score})),f=u[u.length-1].relevance_score,p=u[0].relevance_score,m=Ie.map((function(e){return e.percent=void 0,e.score=void 0,e.rank=void 0,e})),h=[],null===(l=i.results)||void 0===l||l.forEach((function(e,n){h.push(e.index),m[e.index]=j()(j()({},m[e.index]),{},{uid:Ue(),rank:n+1,score:e.relevance_score,showExtra:!0,percent:Le({min:p,max:f,value:e.relevance_score})})})),m=x().sortBy(m,"rank"),Te(h),Pe(m),d([{title:"Results",role:"",content:null===(s=i.results)||void 0===s?void 0:s.map((function(e){var n,r,t=Le({min:p,max:f,value:e.relevance_score});return{uid:Ue(),text:"".concat((null===(n=e.document)||void 0===n||null===(n=n.text)||void 0===n?void 0:n.slice(0,500))||""),docIndex:e.index,title:(null===(r=c[e.index])||void 0===r?void 0:r.name)||"",score:e.relevance_score,extra:qe(t),normalizValue:t}})),uid:Ue()}]),e.next=38;break;case 35:e.prev=35,e.t0=e.catch(4),ae({error:!0,errorMessage:null===(g=e.t0.response)||void 0===g||null===(g=g.data)||void 0===g||null===(g=g.error)||void 0===g?void 0:g.message});case 38:return e.prev=38,ne(!1),e.finish(38);case 41:case"end":return e.stop()}}),e,null,[[4,35,38,41]])})));return function(n){return e.apply(this,arguments)}}(),Fe=function(e){e&&De({content:e})},Ke=(0,b.useCallback)((function(e){var n=null==e?void 0:e.map((function(e){return e.percent=void 0,e.score=void 0,e.rank=void 0,e}));Pe(n)}),[]),Ye=(0,b.useCallback)((function(e,n){if(ge.current){var r=e.clipboardData.getData("text");if(r){var t,o=null===(t=Ie[n])||void 0===t?void 0:t.text,a=r.split("\n").map((function(e){return{text:null==e?void 0:e.trim(),uid:Ue(),name:""}}));a[0].text=o+a[0].text;var l=[].concat(N()(Ie.slice(0,n)),N()(a),N()(Ie.slice(n+1))).filter((function(e){return e.text})).map((function(e,n){return e.percent=void 0,e.score=void 0,e.rank=void 0,j()(j()({},e),{},{uid:Ue()})}));Pe(l)}}}),[Ie]),Je=(0,b.useCallback)((function(e){var n=null==e?void 0:e.map((function(e){return j()(j()({},e),{},{uid:Ue()})}));Pe(n)}),[]);return(0,y.y1)(u.ZP.SUBMIT,(function(e){e.preventDefault(),Fe(ze.current)}),{enabled:!ee,preventDefault:!0}),(0,b.useEffect)((function(){Ue(),d([]),ae(null)}),[K.model]),(0,b.useEffect)((function(){de.current&&Me(de.current)}),[de.current,Me]),(0,b.useEffect)((function(){pe.current&&Ae(pe.current)}),[pe.current,Ae]),(0,b.useEffect)((function(){He()}),[i]),(0,b.useEffect)((function(){Ie.length+we.length>me.current&&_e(),me.current=Ie.length+we.length}),[Ie.length,we.length]),(0,q.jsxs)("div",{className:"ground-left-wrapper rerank",children:[(0,q.jsxs)("div",{className:"ground-left",children:[(0,q.jsxs)("div",{className:"ground-left-footer",children:[(0,q.jsx)("h3",{className:"m-l-10 flex-between flex-center font-size-14 line-24 m-b-0",style:{padding:"0 32px",marginTop:16},children:(0,q.jsx)("span",{children:p.formatMessage({id:"playground.rerank.query"})})}),(0,q.jsx)("div",{style:{margin:"16px 32px 10px"},children:(0,q.jsx)(z.Z.Search,{allowClear:!0,onSearch:Fe,onChange:function(e){ze.current=e.target.value},enterButton:(0,q.jsx)(E.Z,{title:(0,q.jsxs)("span",{children:["[",u.d4.SUBMIT.textKeybinding,"]"," ",p.formatMessage({id:"common.button.submit"})]}),children:(0,q.jsx)("span",{className:"full-wrap",children:(0,q.jsx)(P.Z,{rotate:0,className:"font-size-14"})})}),placeholder:p.formatMessage({id:"playground.rerank.query.holder"})})})]}),(0,q.jsxs)("div",{className:"center",ref:de,children:[(0,q.jsxs)("div",{className:"documents",children:[(0,q.jsxs)("div",{className:"flex-between m-b-8 doc-header",children:[(0,q.jsx)("h3",{className:"m-l-10 flex-between flex-center font-size-14 line-24 m-b-0",children:(0,q.jsx)("span",{children:p.formatMessage({id:"playground.embedding.documents"})})}),(0,q.jsxs)("span",{className:"m-l-10 font-size-12",children:[" ",(null==oe?void 0:oe.total_tokens)&&(0,q.jsxs)("span",{style:{color:"var(--ant-orange)"},children:[p.formatMessage({id:"playground.tokenusage"}),":"," ",null==oe?void 0:oe.total_tokens]})]}),(0,q.jsxs)("div",{className:"flex-center gap-10",children:[(0,q.jsx)(E.Z,{title:p.formatMessage({id:"playground.input.multiplePaste.tips"}),children:(0,q.jsxs)(M.Z,{defaultChecked:ge.current,onChange:function(e){ge.current=e.target.checked},children:[p.formatMessage({id:"playground.input.multiplePaste"}),(0,q.jsx)(R.Z,{className:"m-l-4"})]})}),(0,q.jsxs)(m.ZP,{size:"middle",onClick:function(){var e;null===(e=fe.current)||void 0===e||e.handleAdd()},children:[(0,q.jsx)($.Z,{}),p.formatMessage({id:"playground.embedding.addtext"})]}),(0,q.jsx)(m.ZP,{icon:(0,q.jsx)(O.Z,{}),size:"middle",onClick:function(){Pe([{text:"",uid:-1,name:""},{text:"",uid:-2,name:""}]),Ne([]),ae(null),Ce(!1)},children:p.formatMessage({id:"common.button.clear"})})]})]}),(0,q.jsxs)("div",{className:"docs-wrapper",children:[(0,q.jsx)(H.Z,{sortIndex:Oe,ref:fe,textList:Ie,showLabel:!1,sortable:!1,height:46,onChange:Ke,onSort:Je,extra:qe,onPaste:Ye},t.current),ye&&(0,q.jsx)("div",{className:"m-t-16",children:(0,q.jsx)(S.Z,{type:"danger",message:p.formatMessage({id:"playground.documents.verify.rerank"})})})]})]}),(0,q.jsx)("div",{}),(0,q.jsx)("div",{className:"message-list-wrap",style:{paddingInline:0,paddingTop:0},children:(0,q.jsx)(q.Fragment,{children:(0,q.jsx)("div",{className:"content",children:ee&&(0,q.jsx)(_.Z,{size:"small",children:(0,q.jsx)("div",{style:{height:"46px"}})})})})})]})]}),(0,q.jsx)("div",{className:h()("params-wrapper",{collapsed:ce}),ref:pe,children:(0,q.jsx)("div",{className:"box",children:(0,q.jsx)(A.Z,{ref:he,setParams:Y,params:K,paramsConfig:U,initialValues:D,selectedModel:k,modelList:r})})}),(0,q.jsx)(L.Z,j()(j()({},B.NW.rerank),{},{open:G,payload:{documents:[].concat(N()(Ie),N()(we)).map((function(e){return e.text})).filter((function(e){return e}))},parameters:j()(j()({},K),{},{query:ue.current}),onCancel:function(){X(!1)},title:p.formatMessage({id:"playground.viewcode"})}))]})})),K=(0,b.memo)(F),Y=(r(20988),function(){var e=(0,f.useIntl)(),n=(0,b.useRef)(null),r=(0,b.useRef)(null),t=(0,b.useState)([]),a=c()(t,2),s=a[0],v=a[1],g=(0,b.useState)(!1),k=c()(g,2),j=k[0],w=k[1],N=(0,b.useCallback)((function(){var e,n;null===(e=r.current)||void 0===e||null===(n=e.viewCode)||void 0===n||n.call(e)}),[r]),S=(0,b.useCallback)((function(){var e,n;null===(e=r.current)||void 0===e||null===(n=e.setCollapse)||void 0===n||n.call(e)}),[r]);(0,b.useEffect)((function(){var e=function(){var e=l()(o()().mark((function e(){var n,r,t;return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n={reranker:!0},e.next=4,(0,C.nb)(n);case 4:return r=e.sent,t=x().map(r.data||[],(function(e){return{value:e.id,label:e.id}})),e.abrupt("return",t);case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",[]);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),n=function(){var n=l()(o()().mark((function n(){var r,t,a;return o()().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Promise.all([e()]);case 3:r=n.sent,t=c()(r,1),a=t[0],v(a),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),w(!0);case 12:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(){return n.apply(this,arguments)}}();n()}),[]);return(0,y.y1)(u.ZP.RIGHT.join(","),(function(){var e,r;null===(e=n.current)||void 0===e||null===(r=e.setCollapse)||void 0===r||r.call(e)}),{preventDefault:!0}),(0,q.jsx)(d._z,{ghost:!0,header:{title:e.formatMessage({id:"menu.playground.rerank"}),breadcrumb:{}},extra:(0,q.jsxs)(p.Z,{children:[(0,q.jsx)(m.ZP,{size:"middle",onClick:N,icon:(0,q.jsx)(i.Z,{type:"icon-code",className:"font-size-16"}),children:e.formatMessage({id:"playground.viewcode"})}),(0,q.jsx)(m.ZP,{size:"middle",onClick:S,icon:(0,q.jsx)(i.Z,{type:"icon-a-layout6-line",className:"font-size-16"})})]},"buttons"),className:h()("playground-container chat"),children:(0,q.jsx)("div",{className:"play-ground",children:(0,q.jsx)("div",{className:"chat",children:(0,q.jsx)(K,{ref:r,modelList:s,loaded:j})})})})})},10074:function(){},21435:function(){},76808:function(e,n,r){"use strict";r.d(n,{Z:function(){return R}});var t=r(50959),o=r(82187),a=r.n(o),l=r(90123),s=r(7827),c=r(25802),i=r(64698),u=r(6456),d=r(29797),f=r(1947),p=r(99978),m=r(98231),v=r(38456),h=r(41380);const g=e=>{const{lineWidth:n,fontSizeIcon:r,calc:t}=e,o=e.fontSizeSM;return(0,v.IX)(e,{tagFontSize:o,tagLineHeight:(0,f.bf)(t(e.lineHeightSM).mul(o).equal()),tagIconSize:t(r).sub(t(n).mul(2)).equal(),tagPaddingHorizontal:8,tagBorderlessBg:e.defaultBg})},x=e=>({defaultBg:new p.C(e.colorFillQuaternary).onBackground(e.colorBgContainer).toHexString(),defaultColor:e.colorText});var b=(0,h.I$)("Tag",(e=>(e=>{const{paddingXXS:n,lineWidth:r,tagPaddingHorizontal:t,componentCls:o,calc:a}=e,l=a(t).sub(r).equal(),s=a(n).sub(r).equal();return{[o]:Object.assign(Object.assign({},(0,m.Wf)(e)),{display:"inline-block",height:"auto",marginInlineEnd:e.marginXS,paddingInline:l,fontSize:e.tagFontSize,lineHeight:e.tagLineHeight,whiteSpace:"nowrap",background:e.defaultBg,border:`${(0,f.bf)(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderRadius:e.borderRadiusSM,opacity:1,transition:`all ${e.motionDurationMid}`,textAlign:"start",position:"relative",[`&${o}-rtl`]:{direction:"rtl"},"&, a, a:hover":{color:e.defaultColor},[`${o}-close-icon`]:{marginInlineStart:s,fontSize:e.tagIconSize,color:e.colorTextDescription,cursor:"pointer",transition:`all ${e.motionDurationMid}`,"&:hover":{color:e.colorTextHeading}},[`&${o}-has-color`]:{borderColor:"transparent",[`&, a, a:hover, ${e.iconCls}-close, ${e.iconCls}-close:hover`]:{color:e.colorTextLightSolid}},"&-checkable":{backgroundColor:"transparent",borderColor:"transparent",cursor:"pointer",[`&:not(${o}-checkable-checked):hover`]:{color:e.colorPrimary,backgroundColor:e.colorFillSecondary},"&:active, &-checked":{color:e.colorTextLightSolid},"&-checked":{backgroundColor:e.colorPrimary,"&:hover":{backgroundColor:e.colorPrimaryHover}},"&:active":{backgroundColor:e.colorPrimaryActive}},"&-hidden":{display:"none"},[`> ${e.iconCls} + span, > span + ${e.iconCls}`]:{marginInlineStart:l}}),[`${o}-borderless`]:{borderColor:"transparent",background:e.tagBorderlessBg}}})(g(e))),x),y=function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(t=Object.getOwnPropertySymbols(e);o<t.length;o++)n.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(e,t[o])&&(r[t[o]]=e[t[o]])}return r};const C=t.forwardRef(((e,n)=>{const{prefixCls:r,style:o,className:l,checked:s,onChange:c,onClick:i}=e,u=y(e,["prefixCls","style","className","checked","onChange","onClick"]),{getPrefixCls:f,tag:p}=t.useContext(d.E_),m=f("tag",r),[v,h,g]=b(m),x=a()(m,`${m}-checkable`,{[`${m}-checkable-checked`]:s},null==p?void 0:p.className,l,h,g);return v(t.createElement("span",Object.assign({},u,{ref:n,style:Object.assign(Object.assign({},o),null==p?void 0:p.style),className:x,onClick:e=>{null==c||c(!s),null==i||i(e)}})))}));var k=C,j=r(41136);var w=(0,h.bk)(["Tag","preset"],(e=>(e=>(0,j.Z)(e,((n,r)=>{let{textColor:t,lightBorderColor:o,lightColor:a,darkColor:l}=r;return{[`${e.componentCls}${e.componentCls}-${n}`]:{color:t,background:a,borderColor:o,"&-inverse":{color:e.colorTextLightSolid,background:l,borderColor:l},[`&${e.componentCls}-borderless`]:{borderColor:"transparent"}}}})))(g(e))),x);const N=(e,n,r)=>{const t="string"!=typeof(o=r)?o:o.charAt(0).toUpperCase()+o.slice(1);var o;return{[`${e.componentCls}${e.componentCls}-${n}`]:{color:e[`color${r}`],background:e[`color${t}Bg`],borderColor:e[`color${t}Border`],[`&${e.componentCls}-borderless`]:{borderColor:"transparent"}}}};var S=(0,h.bk)(["Tag","status"],(e=>{const n=g(e);return[N(n,"success","Success"),N(n,"processing","Info"),N(n,"error","Error"),N(n,"warning","Warning")]}),x),Z=function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(t=Object.getOwnPropertySymbols(e);o<t.length;o++)n.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(e,t[o])&&(r[t[o]]=e[t[o]])}return r};const I=t.forwardRef(((e,n)=>{const{prefixCls:r,className:o,rootClassName:f,style:p,children:m,icon:v,color:h,onClose:g,bordered:x=!0,visible:y}=e,C=Z(e,["prefixCls","className","rootClassName","style","children","icon","color","onClose","bordered","visible"]),{getPrefixCls:k,direction:j,tag:N}=t.useContext(d.E_),[I,P]=t.useState(!0),R=(0,l.Z)(C,["closeIcon","closable"]);t.useEffect((()=>{void 0!==y&&P(y)}),[y]);const $=(0,s.o2)(h),O=(0,s.yT)(h),T=$||O,z=Object.assign(Object.assign({backgroundColor:h&&!T?h:void 0},null==N?void 0:N.style),p),E=k("tag",r),[M,_,B]=b(E),A=a()(E,null==N?void 0:N.className,{[`${E}-${h}`]:T,[`${E}-has-color`]:h&&!T,[`${E}-hidden`]:!I,[`${E}-rtl`]:"rtl"===j,[`${E}-borderless`]:!x},o,f,_,B),H=e=>{e.stopPropagation(),null==g||g(e),e.defaultPrevented||P(!1)},[,L]=(0,c.Z)((0,c.w)(e),(0,c.w)(N),{closable:!1,closeIconRender:e=>{const n=t.createElement("span",{className:`${E}-close-icon`,onClick:H},e);return(0,i.wm)(e,n,(e=>({onClick:n=>{var r;null===(r=null==e?void 0:e.onClick)||void 0===r||r.call(e,n),H(n)},className:a()(null==e?void 0:e.className,`${E}-close-icon`)})))}}),q="function"==typeof C.onClick||m&&"a"===m.type,U=v||null,D=U?t.createElement(t.Fragment,null,U,m&&t.createElement("span",null,m)):m,F=t.createElement("span",Object.assign({},R,{ref:n,className:A,style:z}),D,L,$&&t.createElement(w,{key:"preset",prefixCls:E}),O&&t.createElement(S,{key:"status",prefixCls:E}));return M(q?t.createElement(u.Z,{component:"Tag"},F):F)})),P=I;P.CheckableTag=k;var R=P},335:function(e,n,r){var t=r(31479);e.exports=function(e,n){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=t(e))||n&&e&&"number"==typeof e.length){r&&(e=r);var o=0,a=function(){};return{s:a,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,s=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return s=e.done,e},e:function(e){c=!0,l=e},f:function(){try{s||null==r.return||r.return()}finally{if(c)throw l}}}},e.exports.__esModule=!0,e.exports.default=e.exports}}]);