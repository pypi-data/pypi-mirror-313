"use strict";(self.webpackChunk_jupytercad_jupytercad_core=self.webpackChunk_jupytercad_jupytercad_core||[]).push([[197],{9197:(e,t,r)=>{r.r(t),r.d(t,{makeJSONObjectField:()=>n});var i=r(3345),a=r(2192),o=r(8036),s=r(7262);function n(e){return class extends e{constructor(){super(...arguments),this.onReset=()=>{this._editor.getDoc().setValue(JSON.stringify(this.props.formData,null,2))},this.onSave=()=>{this.props.onChange(this.state.editorValue)},this.onChange=(e,t,r)=>{try{const e=JSON.parse(r);this.setState({editorValue:e,editorError:!1})}catch(e){this.setState({editorValue:null,editorError:!0})}}}render(){const{uiSchema:e,formData:t,idSchema:r,name:s,registry:n=a.W.getDefaultRegistry()}=this.props,{definitions:c}=n,d=a.W.retrieveSchema(this.props.schema,c,t);let l;l=this.state.wasPropertyKeyModified||void 0===d.title?s:d.title;const u=!!document.querySelector('body[data-jp-theme-light="true"]'),h=e["ui:description"]||d.description,{canSave:m}=this,p={mode:"application/json",theme:u?"default":"zenburn",matchBrackets:!0,autoCloseBrackets:!0};return i.createElement(i.Fragment,null,i.createElement("legend",null,l),i.createElement("p",{className:"field-description"},h),i.createElement("div",{className:"jp-SchemaForm-JSONObject-buttons"},i.createElement("button",{id:`${r.$id}_revert`,className:"jp-JSONEditor-revertButton",title:"Revert to Previous Notebook Metadata",onClick:this.onReset}),i.createElement("button",{id:`${r.$id}_commit`,disabled:!m,className:"jp-JSONEditor-commitButton",title:"Commit to Notebook Metadata",onClick:this.onSave})),i.createElement("div",{id:r.$id},i.createElement(o.wN,{editorDidMount:e=>this._editor=e,value:JSON.stringify(t,null,2),options:p,onChange:this.onChange})))}get canSave(){return!this.state.editorError&&this.state.editorValue&&!s.JSONExt.deepEqual(this.state.editorValue,this.props.formData)}}}}}]);